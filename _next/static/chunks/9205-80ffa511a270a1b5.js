"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9205],{51966:function(e,t,n){n.d(t,{v:function(){return ApproveAndTx},L:function(){return NftApproveAndTx}});var a=n(52628),r=n(6194),s=n(15493),o=n(66986),l=n(83978),c=n.n(l),i=n(83508),u=n(47259),d=n(58714),p=n(6951),f=n(36602);let m={},useApproves=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:a,chainId:l}=(0,p.m)(),{data:c}=(0,f.p)(),[v,b]=(0,i.useState)(!1),h=(0,i.useMemo)(()=>Object.keys(e).filter(e=>e!==r.K8),[e]),[g,x]=(0,i.useState)(t&&m[t]||{}),updateAllownce=(e,n)=>{t&&(m[t]={...m[t]||{},[e]:n},x(t=>({...t,[e]:n})))};(0,i.useEffect)(()=>{a&&t&&l&&h.forEach(e=>{(0,o.B)().readContract({abi:d.Wo,address:e,functionName:"allowance",args:[a,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[h,l,a]);let[y,A]=(0,i.useState)(!1),w=(0,i.useMemo)(()=>h.filter(t=>(0,s.ok)(e,t)>0n&&(0,s.ok)(e,t)>(0,s.ok)(g,t)),[e,h,g]),approve=async()=>{if(0!=w.length&&t)try{A(!0),b(!1);for(let a=0;a<w.length;a++){let r=w[a],s=!1===n?e[r]:n,l=await (null==c?void 0:c.writeContract({abi:d.Wo,address:r,functionName:"approve",args:[t,s]}));l&&await (0,o.B)().waitForTransactionReceipt({hash:l}),updateAllownce(r,s)}u.A.success("Approve success"),A(!1),b(!0)}catch(e){u.A.error((0,s.az)(e)),A(!1),b(!1)}};return{approve,loading:y,shouldApprove:w.length>0,isSuccess:v}},v={},useNftApproves=(e,t)=>{let{address:n,chainId:a}=(0,p.m)(),{data:r}=(0,f.p)(),[l,m]=(0,i.useState)(!1),b=c().keys(e),[h,g]=(0,i.useState)(t&&v[t]||{}),updateAllownce=(e,n)=>{t&&(v[t]={...v[t]||{},[e]:n},g(t=>({...t,[e]:n})))};(0,i.useEffect)(()=>{n&&t&&a&&b.forEach(e=>{(0,o.B)().readContract({abi:d.Hr,address:e,functionName:"isApprovedForAll",args:[n,t]}).then(t=>t!==h[e]&&updateAllownce(e,t)).catch(console.error)})},[b,a,n]);let[x,y]=(0,i.useState)(!1),A=(0,i.useMemo)(()=>b.filter(e=>!h[e]),[e,b,h]),approve=async()=>{if(0!=A.length&&t)try{y(!0),m(!1);for(let e=0;e<A.length;e++){let n=A[e],a=await (null==r?void 0:r.writeContract({abi:d.Hr,address:n,functionName:"setApprovalForAll",args:[t,!0]}));a&&await (0,o.B)().waitForTransactionReceipt({hash:a}),updateAllownce(n,!0)}u.A.success("Approve success"),y(!1),m(!0)}catch(e){u.A.error((0,s.az)(e)),y(!1),m(!1)}};return{approve,loading:x,shouldApprove:A.length>0,isSuccess:l}};var b=n(16248),h=n(88501),g=n(70475);function ApproveAndTx(e){let{className:t,tx:n,busyShowTxet:r=!0,approves:s,spender:o,requestAmount:l,config:c,toast:u=!0,skipSimulate:d=!1,disabled:p,confirmations:f,onTxSuccess:m,onApproveSuccess:v}=e,{write:x,isDisabled:y,isLoading:A}=(0,b.R)(c,{onSuccess:()=>m&&m(),autoToast:u,skipSimulate:d,confirmations:f}),w=p||y||A||!1===c.enabled,{approve:C,shouldApprove:k,loading:E,isSuccess:j}=useApproves(s||{},o,l),N=(0,i.useRef)();return(N.current=v,(0,i.useEffect)(()=>{N.current&&j&&N.current()},[j]),k)?(0,a.jsx)(g.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:C,busy:E,disabled:p||!C||E,children:"Approve"}):(0,a.jsx)(g.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:()=>x(),busy:A,busyShowContent:r,disabled:w,children:n})}function NftApproveAndTx(e){let{className:t,tx:n,busyShowTxet:r=!0,approves:s,spender:o,requestAmount:l,config:c,toast:u=!0,skipSimulate:d=!1,disabled:p,confirmations:f,onTxSuccess:m,onApproveSuccess:v}=e,{write:x,isDisabled:y,isLoading:A}=(0,b.R)(c,{onSuccess:()=>m&&m(),autoToast:u,skipSimulate:d,confirmations:f}),w=p||y||A||!1===c.enabled,{approve:C,shouldApprove:k,loading:E,isSuccess:j}=useNftApproves(null!=s?s:{},o),N=(0,i.useRef)();return(N.current=v,(0,i.useEffect)(()=>{N.current&&j&&N.current()},[j]),k)?(0,a.jsx)(g.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:C,busy:E,disabled:p||!C||E,children:"Approve"}):(0,a.jsx)(g.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:()=>x(),busy:A,busyShowContent:r,disabled:w,children:n})}},43118:function(e,t,n){n.d(t,{Ak:function(){return Expandable},At:function(){return d},UT:function(){return GeneralAction},pk:function(){return p}});var a=n(52628),r=n(15493),s=n(83508),o=n(23125),l=n(83960),c=n(58409),i=n(62531),u=n(51966);let d={menu:()=>(0,r.cn)("bg-white dark:bg-black dark:border"),option:e=>(0,r.cn)({"!bg-primary/50":e.isFocused,"!bg-primary":e.isSelected}),control:()=>"bg-white dark:bg-black !min-h-[58px] !border-primary/70 !shadow-none",singleValue:()=>"dark:text-white"},p="bg-white dark:bg-transparent border-primary/70 w-full h-14 text-right pr-4 font-bold text-sm border focus:border-2  rounded-md outline-none ",defConvertArg=(e,t,n)=>"uint8"==n.type?parseInt((e||"").replaceAll(" ","")):n.type.startsWith("uint")?BigInt((e||"").replaceAll(" ","")):"bytes32"==n.type?(0,i.$G)(e,{size:32}):"bool"==n.type?"true"==e:e,convertArgs=(e,t,n)=>{try{return e.map((e,a)=>{let r=t[a];return n?n(e,a,r):defConvertArg(e,a,r)})}catch(e){return}};function Expandable(e){let{children:t,tit:n,disable:r}=e,[c,i]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"flex flex-col w-full bg-white dark:bg-transparent rounded-lg overflow-hidden border border-solid border-primary/40",children:[(0,a.jsxs)("div",{className:"px-5 py-2 min-h-[58px] flex justify-between items-center text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-base",children:n}),r?t:(0,a.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-primary flex items-center text-xs text-primary cursor-pointer ",onClick:()=>i(!c),children:[(0,a.jsx)("span",{className:"mr-[5px]",children:c?"Close":"Expand"}),c?(0,a.jsx)(l.iRh,{}):(0,a.jsx)(l.tv1,{})]})]}),(0,a.jsx)(o.Collapse,{isOpened:c,theme:{content:"bg-gray-200 dark:bg-transparent p-4 flex flex-col gap-2 whitespace-break-spaces"},children:t})]})}function GeneralAction(e){var t,n;let{abi:o,address:l,functionName:i,tit:d,infos:f,convertArg:m,txProps:v,onArgs:b,argsDef:h}=e,g=o.find(e=>"function"==e.type&&e.name==i),x=(null==g?void 0:null===(t=g.inputs)||void 0===t?void 0:t.length)||0,[{args:y},A]=(0,c.Z)({args:"function"!=typeof h&&(null==h?void 0:h.length)==x&&x>0?h:Array(x).fill("")});(0,s.useEffect)(()=>{b&&b(y)},[y]);let w=(0,s.useRef)(0);if((0,s.useEffect)(()=>{w.current++;let e=w.current;Promise.resolve(h).then(e=>"function"==typeof e?e():e||[]).then(t=>e==w.current&&A({args:y.map((e,n)=>e||t[n]||"")}))},[h]),!g)return;let C=!g.inputs||0==g.inputs.length;return(0,a.jsxs)(Expandable,{tit:d||i,disable:C,children:[null===(n=g.inputs)||void 0===n?void 0:n.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"opacity-60 absolute top-1/2 left-2 -translate-y-1/2 text-xs",children:e.name}),(0,a.jsx)("input",{type:"text",value:y[t],onChange:e=>A({args:y.map((n,a)=>t==a?e.target.value:n)}),className:(0,r.cn)(p)})]},"input_".concat(t))),f,(0,a.jsx)(u.v,{...v||{},tx:"Write",config:{abi:o,address:l,functionName:i,...y.length?{args:convertArgs(y,g.inputs,m)}:{}},className:(0,r.cn)("!mt-0 flex items-center justify-center gap-4",C?"max-w-[100px]":"w-full")})]})}},3107:function(e,t,n){n.d(t,{E:function(){return PageWrap}});var a=n(52628);n(83508);var r=n(15493),s=n(38762),o=n(54648);function PageWrap(e){let{children:t,className:n}=e,l=(0,o.l)(e=>e.theme),c=(0,s.usePathname)();return(0,a.jsx)("div",{className:(0,r.cn)("min-h-[calc(100vh+1px)] h-auto pt-[90px] pb-6",n),style:{backgroundSize:"contain",background:"light"==l?"transparent":"/"==c?"url(bg_home.svg) center bottom no-repeat,linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)":"linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)"},children:t})}},34783:function(e,t,n){n.d(t,{j:function(){return s}});var a=n(51186),r=n(15493);let s=(0,r.Yb)({[a.F.id]:[{tit:"vIP-Verio Vault",vault:"0x6Aa567D7EC7aaA39609394731C3C6fe0486Be958",asset:"0x38B40a5c2Dd2d62a7B578257A18A8F675353d481",bt:"0xe01C85599300f9ED5DE2d7D4FE3Dc2Dc4c5c3877",reward2:"0x5267F7eE069CEB3D8F1c760c215569b79d0685aE",market:"0x2280c560B1d36eb40814F1E7489663C35B1BaDF0",mintpool:"0x4A2d5F3BaBF2ad41a723A8415a59a8a600CC1519",maturitypool:"0x0D7e86D8218de7c3A0109F3d5DCb8C6BBa055bf0",protocal:"0xB58DAfe606162a744F5007a49D928055Bcfb67Ed",protocalSettings:"0x776f5061F89Aa8df62f8E52688516Ab33E55b494",onEnv:["test"]}]},[])},78373:function(e,t,n){n.d(t,{G:function(){return useVaultsConfigs}});var a=n(31480),r=n(6194),s=n(4605),o=n(83508),l=n(58409),c=n(90947),i=n(43625),u=n(34783);function useVaultsConfigs(){let e=(0,c.p)(),t=r.iK[e]||[],n=r.VQ[e]||[],d=(0,o.useMemo)(()=>(a.Fw[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(s.Vi)),[e]),p=(0,o.useMemo)(()=>(i.f_[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(s.Vi)),[e]),f=(0,o.useMemo)(()=>(u.j[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(s.Vi)),[e]),m=(0,o.useMemo)(()=>{let e=t.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"L-Vault"})),a=n.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"P-Vault"})),r=d.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"B-Vault"})),s=p.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"Lnt-Vault"})),o=f.map(e=>({label:e.tit,value:e.vault,data:e,type:"B-Vault2"}));return[...e,...a,...r,...s,...o].map(e=>({...e,label:"".concat(e.label,"(").concat(e.type,":").concat(e.data.vault,")")}))},[t,n,d,p]),[{current:v},b]=(0,l.Z)({current:m[0]});return{current:v,setState:b,options:m}}},19532:function(e,t,n){n.d(t,{D2:function(){return useWandContractRead},uX:function(){return useWandContractReads}}),n(66986);var a=n(83978),r=n.n(a);n(83508);var s=n(16931),o=n(61191),l=n(93108);let c=(0,l.Ue)(e=>({time:r().now(),update:()=>{e({time:r().now()})}}));function useWandContractRead(e){let{time:t}=c();return(0,s.u)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}function useWandContractReads(e){let{time:t}=c();return(0,o.N)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}},16248:function(e,t,n){n.d(t,{R:function(){return useWrapContractWrite}});var a=n(15493),r=n(66986),s=n(83508),o=n(47259),l=n(36602);function useWrapContractWrite(e,t){let{autoToast:n=!0,onSuccess:c}=t||{},[i,u]=(0,s.useState)(!1),[d,p]=(0,s.useState)(!1),{data:f}=(0,l.p)(),m=!f||!f.account||i||!e,write=async()=>{if(!m){u(!0),p(!1);try{let a="function"==typeof e?await e():e,s=(0,r.B)(),l={account:f.account,...a};if(!(null==t?void 0:t.skipSimulate)){let e=await s.simulateContract(l);l=e.request}let i=await f.writeContract(l),u=await s.waitForTransactionReceipt({hash:i,confirmations:null==t?void 0:t.confirmations});if("success"!==u.status)throw"Transaction reverted";p(!0),c&&c(),n&&o.A.success("Transaction success")}catch(e){n&&o.A.error((0,a.az)(e))}u(!1)}};return{write,isDisabled:m,isLoading:i,isSuccess:d}}}}]);