"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2847],{65551:function(e,t,s){s.d(t,{k:function(){return a.Z}});var a=s(78321)},787:function(e,t,s){s.d(t,{Bx:function(){return BVaultCard},Cw:function(){return BVaultB},O4:function(){return BVaultCardComming},aK:function(){return BVaultP},ge:function(){return BVaultRedeemAll},sp:function(){return BVaultApy}});var a=s(52987),n=s(71784),l=s(43213),i=s(81501),r=s(96555),c=s(99409),o=s(13854),d=s(62628),m=s(32422),u=s(44100),x=s(29293),p=s(95499),h=s(64370),v=s(65551),f=s(83978),b=s.n(f),j=s(96396),g=s(77317),y=s(12485),w=s(93650),N=s(14993),k=s(85665),T=s(20265),S=s(44964),B=s(88474),C=s(4949),V=s(39809),P=s(67003),A=s(51470),L=s(31506),I=s(27022),F=s(3861),Y=s(97154),q=s(25282),R=s(7807),E=s(17014),K=s(40292),M=s(47259),U=s(61650),Z=s(45820);function TupleTxt(e){return(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)("div",{className:"text-xs dark:text-white/60 font-medium",children:e.tit}),(0,a.jsx)("div",{className:(0,o.cn)("text-lg  font-medium flex items-center",e.subClassname),children:e.sub})]})}let G=BigInt(1e16);function BVaultRedeem(e){let{bvc:t}=e,[s,n]=(0,g.useState)(""),i=(0,o.su)(s),r=(0,u.nr)(t.vault),c=(0,u.Vw)(t.vault)[0],d=(0,m.o)(e=>e.sliceTokenStore.balances[t.pToken]||0n,["sliceTokenStore.balances.".concat(t.pToken)]),x=(0,u.R3)(t),p=r.current.duration>0n?"Waiting Time: ~".concat((0,o.Y)((r.current.duration+r.current.startTime)*1000n-BigInt(b().now()))):"";return(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-col gap-1"),children:[(0,a.jsx)(V.W,{asset:t.pTokenSymbol,amount:s,balance:d,setAmount:n}),(0,a.jsxs)("div",{className:"text-xs font-medium text-center",children:[p," ",(0,a.jsx)(q.C,{children:"Wait to claim after the Epoch ends."})]}),(0,a.jsx)(C.vZ,{className:"mx-auto mt-6",tx:"Request",spender:null==c?void 0:c.redeemPool,approves:{[t.pToken]:i},disabled:c&&i<=0n||i>d,config:{abi:r.closed?l.j5:l.gg,address:r.closed?t.vault:(null==c?void 0:c.redeemPool)||S.DR,functionName:"redeem",args:[i]},onTxSuccess:()=>{n(""),x()}})]})}function BVaultRedeemAll(e){let{bvc:t}=e,s=(0,m.o)(e=>e.sliceTokenStore.balances[t.pToken]||0n,["sliceTokenStore.balances.".concat(t.pToken)]),n=(0,u.R3)(t),{data:i}=(0,B.p)(),{ids:r,claimable:c}=(0,u.gz)(t.vault),{mutate:h,isPending:v}=(0,p.D)({mutationKey:["readeemAll",s,c,r],mutationFn:async()=>{if(!i)throw"Error";let e=(0,d.B)();s>10n&&await i.writeContract({abi:l.j5,address:t.vault,functionName:"redeem",args:[s]}).then(t=>e.waitForTransactionReceipt({hash:t,confirmations:U.EI})),c>10n&&await i.writeContract({abi:l.j5,address:t.vault,functionName:"batchClaimRedeemAssets",args:[r]}).then(t=>e.waitForTransactionReceipt({hash:t,confirmations:U.EI})),M.A.success("Transaction success")},onSuccess:n,onError:o.S3}),f=!i||s+c<=100n;return(0,a.jsxs)("div",{className:(0,o.cn)("flex justify-between items-center gap-5 flex-wrap"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-nowrap",children:[(0,a.jsx)(L.c,{symbol:t.assetSymbol,size:30})," ",t.assetSymbol]}),(0,a.jsxs)("div",{className:"whitespace-nowrap",children:["Balance: ",(0,x.d)(s)]}),(0,a.jsxs)("div",{className:"whitespace-nowrap",children:["Claimable: ",(0,x.d)(c)]}),(0,a.jsx)(Z.k6,{className:"mx-auto mt-6 flex justify-center items-center gap-2",busy:v,disabled:f,onClick:h,children:"Redeem All"})]})}function BVaultClaim(e){let{bvc:t}=e,s=(0,u.nr)(t.vault),n=(0,u.Vw)(t.vault)[0],i=(null==n?void 0:n.redeemingBalance)||0n,{ids:r,claimable:c}=(0,u.gz)(t.vault),d=(0,u.R3)(t);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-base font-medium items-center gap-5 pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-black/60 dark:text-white/60 text-sm",children:"Available to Claim"}),(0,a.jsxs)("div",{className:"flex gap-4 items-center whitespace-nowrap mt-2",children:[(0,a.jsx)(L.c,{symbol:t.yeetLiqSymbol||t.assetSymbol,size:24}),(0,a.jsx)("span",{className:"font-semibold",children:t.yeetLiqSymbol||t.assetSymbol}),(0,a.jsx)("span",{className:"text-black/60 dark:text-white/60 ",children:(0,x.d)(c)})]})]}),(0,a.jsx)(C.vZ,{className:"ml-auto w-1/3",busyShowTxet:!1,tx:"Claim",disabled:c<=0n,config:{abi:l.j5,address:t.vault,functionName:"batchClaimRedeemAssets",args:[r.length>40?r.slice(r.length-40):r]},onTxSuccess:()=>{d()}})]}),(0,a.jsx)("div",{className:"h-[1px] bg-border my-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-black/60 dark:text-white/60 mb-4",children:"Pending Requests"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(L.c,{symbol:t.pTokenSymbol,size:24}),(0,a.jsx)("span",{className:"font-semibold",children:t.pTokenSymbol}),(0,a.jsx)("span",{className:"text-black/60 dark:text-white/60",children:(0,x.d)(i)}),(0,a.jsxs)("div",{className:"ml-auto text-xs text-black/60 dark:text-white/60 ",children:["Settlement Time : ",(0,a.jsx)("span",{className:"text-black dark:text-white font-semibold pr-2",children:(0,o.G$)((s.current.duration+s.current.startTime)*1000n,o.mv.DATE2)})," ",(0,o.Y)((s.current.duration+s.current.startTime)*1000n-BigInt(b().now()))]})]})]})]})}function BVaultP(e){var t;let{bvc:s}=e,[r,c]=(0,g.useState)(""),d=(0,o.su)(r),p=i.P[s.asset],h=!!p,v=h?"PT":s.pTokenSymbol,f=h?"LP":s.assetSymbol,b=(0,u.nr)(s.vault),y=(0,m.o)(e=>e.sliceTokenStore.balances[s.asset]||0n,["sliceTokenStore.balances.".concat(s.asset)]),{data:w}=(0,B.p)(),N=(0,u.R3)(s),k=(0,j.useSearchParams)(),T=k.get("subtab"),S=(0,j.useRouter)(),P=[{tab:"Buy",content:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(V.W,{asset:s.assetSymbol,amount:r,balance:y,setAmount:c,error:d>0n&&d<G?"Minimum amount is ".concat((0,x.d)(G)):""}),(0,a.jsx)(A.x,{address:s.asset}),(0,a.jsx)("div",{className:"text-xs font-medium text-center",children:"Receive 1 ".concat(v," for every ").concat(f)}),(0,a.jsx)(C.vZ,{className:"mx-auto mt-4",tx:"Buy",disabled:d<=0n||d>y||d<G,spender:s.vault,approves:{[s.asset]:d},config:{abi:l.j5,address:s.vault,functionName:"deposit",args:[d]},onTxSuccess:()=>{c(""),N()}})]})},{tab:"Withdraw",content:(0,a.jsx)(BVaultRedeem,{bvc:s})},{tab:"Claim",content:(0,a.jsx)(BVaultClaim,{bvc:s})}],I=null===(t=P.find(e=>e.tab.toLowerCase()==T))||void 0===t?void 0:t.tab;return(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-col gap-5","max-w-4xl mx-auto w-full","max-w-xl"),children:[(0,a.jsxs)("div",{className:"card !p-0 overflow-hidden w-full",children:[(0,a.jsxs)("div",{className:"flex p-5 bg-[#10B98126] gap-5",children:[(0,a.jsx)(L.c,{size:54,symbol:"PToken"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-xl text-black dark:text-white font-semibold",children:s.pTokenSymbol}),(0,a.jsx)("div",{className:"text-xs text-black/60 dark:text-white/60 font-medium",children:"Interest bearing rebase principal token"})]})]}),(0,a.jsxs)("div",{className:"flex items-baseline justify-between px-5 pt-5 gap-5",children:[(0,a.jsx)(TupleTxt,{tit:"APY Est.",sub:(0,a.jsx)(BVaultApy,{bvc:s,showTip:!0})}),(0,a.jsx)(TupleTxt,{tit:"Total Supply",sub:(0,a.jsx)(a.Fragment,{children:(0,x.d)(b.pTokenTotal)})})]}),(0,a.jsx)("div",{className:"flex px-2 pb-5",children:(0,a.jsx)("button",{className:"btn-link ml-auto text-black/60 dark:text-white/60 text-xs",onClick:()=>{null==w||w.watchAsset({type:"ERC20",options:{address:s.pToken,symbol:s.pTokenSymbol,decimals:18}}).catch(o.S3)},children:"Add to wallet"})})]}),(0,a.jsx)("div",{className:"md:col-span-2 card !p-4",children:(0,a.jsx)(F.x,{currentTab:I,data:P,onTabChange:e=>(0,n.rc)(S,s.vault,"principal_panda",e)})})]})}function BVaultYInfo(e){let{bvc:t}=e,s=t.assetSymbol.includes("-"),n=s?"YT":t.yTokenSymbol,l=s?"LP token":t.assetSymbol,i=(0,u.nr)(t.vault),c=i.current,d=i.current.yTokenAmountForSwapYT>0n?i.lockedAssetTotal*r.Pq/i.current.yTokenAmountForSwapYT:0n,[m]=(0,u.v7)(t.vault),{roi:p,restakingIncomesApy:h,additionalRoi:f}=(0,K.tY)(t);return(0,a.jsxs)("div",{className:"card !p-0 overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"flex p-5 bg-[#6366F126] gap-5",children:[(0,a.jsx)(L.c,{size:54,symbol:"YToken"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-xl text-black dark:text-white font-semibold",children:t.yTokenSymbol}),(0,a.jsx)("div",{className:"text-xs text-black/60 dark:text-white/60 font-medium",children:"Yield token"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between p-5 gap-5 flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-baseline gap-4 flex-wrap",children:[(0,a.jsxs)("div",{className:"text-xs flex gap-2 items-end",children:[(0,a.jsxs)(q.C,{node:(0,a.jsx)("span",{className:"text-2xl font-medium underline underline-offset-2 relative top-0.5",children:(0,o.Jh)(p,18,2)}),children:[(0,a.jsxs)("div",{children:["Restaking incomes: ",(0,o.Jh)(h,18,2)]}),(0,a.jsxs)("div",{children:["Additional airdrops: ",(0,o.Jh)(f,18,2)]}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{children:"YT Spent: -100%"})]}),"Est.ROI in remaining days"]}),(0,a.jsxs)("span",{className:"text-xs relative top-[3.9375rem]",children:["1",n," = Yield of ",(0,x.d)(d,2)," ",l]})]}),(0,a.jsx)(TupleTxt,{tit:"Circulation amount",sub:(0,a.jsx)(a.Fragment,{children:(0,x.d)(i.current.yTokenAmountForSwapYT)})}),c&&(0,a.jsxs)("div",{className:"dark:text-white/60 text-xs whitespace-nowrap gap-1 flex w-full flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:"Epoch ".concat(c.epochId.toString())}),(0,a.jsxs)("span",{className:"scale-90",children:["~",(0,o.Y)((c.startTime+c.duration)*1000n-BigInt(new Date().getTime()))," remaining"]})]}),(0,a.jsx)(v.k,{value:(e=>{let t=BigInt(Math.floor(new Date().getTime()/1e3));if(t<e.startTime)return 0;if(t-c.startTime>=c.duration)return 100;let s=(t-c.startTime)*100n/e.duration;return parseInt(s.toString())})(c),className:"mt-2 rounded-full overflow-hidden"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"scale-90",children:(0,o.G$)(1000n*c.startTime,o.mv.ALL2)}),(0,a.jsx)("span",{className:"scale-90",children:(0,o.G$)((c.startTime+c.duration)*1000n,o.mv.ALL2)})]})]})]})]})}function BVaultYTrans(e){let{bvc:t}=e,s=t.assetSymbol.includes("-");s||t.pTokenSymbol;let n=s?"YT":t.yTokenSymbol,i=s?"LP token":t.assetSymbol,[p,v]=(0,g.useState)(""),f=(0,o.su)(p),b=(0,u.nr)(t.vault),j=(0,m.o)(e=>e.sliceTokenStore.balances[t.asset]||0n,["sliceTokenStore.balances.".concat(t.asset)]),k=(0,c.pK)(),[T,S]=(0,g.useState)(["calcSwap",t.vault,f,k]);(0,w.Z)(()=>S(["calcSwap",t.vault,f,k]),300,["calcSwap",t.vault,f,k]);let{data:B,isFetching:P}=(0,h.a)({queryKey:T,queryFn:()=>(0,d.B)().readContract({abi:l.j5,address:t.vault,functionName:"calcSwap",args:[f]})}),[L,I]=(0,N.Z)(!1),F=b.current.vaultYTokenBalance,Y=(0,o.ok)(B,"1"),q=F>0n?b.Y*r.Pq/F:0n,R=q>0n?r.Pq*r.Pq/q:0n,E=L?"1 ".concat(i,"=").concat((0,x.d)(R)," ").concat(n):"1 ".concat(n,"=").concat((0,x.d)(q)," ").concat(i),M=F>Y?(b.Y+f)*r.Pq/(F-Y):0n,U=(0,o.Kl)(Y,void 0,!0),Z=M>q&&q>0n?(M-q)*BigInt(1e10)/q:0n,z=(0,u.R3)(t),{roi:W,roiChange:J}=(0,K.tY)(t,Y,M);return(0,a.jsxs)("div",{className:"card !p-4 flex flex-col h-[24.25rem] gap-1",children:[(0,a.jsx)(V.W,{asset:t.assetSymbol,amount:p,balance:j,setAmount:v,error:f>0n&&f<G?"Minimum amount is ".concat((0,x.d)(G)):""}),(0,a.jsx)(A.x,{address:t.asset}),(0,a.jsx)("div",{className:"text-base font-bold my-2",children:"Receive"}),(0,a.jsx)(V.W,{asset:t.yTokenSymbol,loading:P&&!!p,readonly:!0,disable:!0,checkBalance:!1,amount:U}),(0,a.jsxs)("div",{className:"text-xs font-medium  flex justify-between select-none",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.k$E,{className:"text-sm text-primary cursor-pointer inline-block",onClick:()=>I()}),(0,a.jsx)("span",{children:"Price: ".concat(E)})]}),(0,a.jsx)("div",{className:"flex gap-2 items-center",children:"Price Impact: ".concat((0,o.Jh)(Z,10,2))})]}),Y>0n&&(0,a.jsxs)("div",{className:"text-xs font-medium text-center my-auto text-black/80 dark:text-white/80",children:["Implied ROI Change: ",(0,o.Jh)(W,18,2)," ","->"," ",(0,a.jsx)("span",{className:(0,o.cn)({"text-red-400":W-J>=BigInt(1e17)}),children:(0,o.Jh)(J,18,2)})]}),(0,a.jsx)(C.vZ,{className:"mx-auto mt-auto",tx:"Buy",skipSimulate:!0,disabled:f<=0n||f>j||f<G,config:{abi:l.j5,address:t.vault,functionName:"swap",args:[f]},approves:{[t.asset]:f},spender:t.vault,onTxSuccess:()=>{v(""),z()}})]})}function BribeTit(e){return(0,a.jsxs)("div",{className:"flex items-center justify-start pl-5 gap-3",children:[(0,a.jsx)(L.c,{symbol:"GreenDot",size:14}),(0,a.jsx)(q.C,{node:(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,o.lS)(e.name,6,0)}),children:e.name.length>6?e.name:null})]})}function BVaultPoolsOld(e){var t;let{bvc:s}=e,[n,i]=(0,g.useState)(!1),c=(0,u.Vw)(s.vault),d=(0,g.useMemo)(()=>n?c.filter(e=>e.bribes.reduce((e,t)=>e+t.bribeAmount,0n)>0n):c,[c,n]),[m,p]=(0,k.Z)(),h="text-black/60 dark:text-white/60 text-sm",[v,f]=(0,g.useState)(null===(t=d[0])||void 0===t?void 0:t.epochId),b=(0,g.useMemo)(()=>v?d.find(e=>e.epochId==v):d[0],[d,v]),j=(null==b?void 0:b.userBalanceYToken)||0n,y=(null==b?void 0:b.userBalanceYTokenSyntyetic)||0n,onRowClick=e=>{var t;f(null===(t=d[e])||void 0===t?void 0:t.epochId)},w=(null==b?void 0:b.bribes)||[],N=(0,g.useMemo)(()=>{let e=w.find(e=>e.bribeAmount>0n);return e&&0n!=e.bribeTotalAmount?(0,o.Jh)(e.bribeAmount*r.Pq/e.bribeTotalAmount,18):(0,o.Jh)(0n,0n)},[w]),S=(0,u.R3)(s);return(0,a.jsxs)("div",{className:"md:h-[24.25rem] card !p-4",children:[(0,a.jsx)("div",{className:"font-bold text-base",children:"Harvest"}),(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-col md:flex-row gap-4 mt-2"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 shrink-0 w-full md:w-[14.375rem]",ref:m,children:[(0,a.jsxs)("div",{className:"flex items-center gap-8 text-sm font-semibold",children:[(0,a.jsx)("span",{children:"My Pool Only"}),(0,a.jsx)(Y.r,{checked:n,onChange:i})]}),(0,a.jsx)(T.aV,{className:d.length>6?"pr-5":"",width:p.width,height:280,rowHeight:e=>{let{index:t}=e;return t<d.length-1?76:56},overscanRowCount:6,rowCount:d.length,rowRenderer:function(e){let{key:t,style:s,index:n}=e,l=d[n],i="".concat((0,o.G$)(1000n*l.startTime),"-").concat((0,o.G$)((l.startTime+l.duration)*1000n));return(0,a.jsx)("div",{style:s,className:"cursor-pointer",onClick:()=>onRowClick(n),children:(0,a.jsxs)("div",{className:(0,o.cn)("h-[56px] card !rounded-lg !px-5 !py-2 font-semibold",n<d.length-1?"mb-[20px]":""),children:[(0,a.jsxs)("div",{className:"text-sm",children:["Epoch ",d[n].epochId.toString()]}),(0,a.jsx)("div",{className:"text-xs dark:text-white/60 mt-1",children:i})]})},t)}})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,a.jsxs)("div",{className:"flex gap-6 items-end font-semibold",children:[(0,a.jsx)("span",{className:"text-sm",children:"Accumulated Rewards"}),(0,a.jsxs)("span",{className:"text-xs dark:text-white/60",children:["Epoch ",((null==b?void 0:b.epochId)||1n).toString()]})]}),(0,a.jsx)("div",{className:"mt-2 rounded-lg border border-solid border-border px-4 py-1 h-[8.125rem] overflow-auto",children:(0,a.jsx)(I.ZP,{headerClassName:"text-center text-black/60 dark:text-white/60 border-b-0",headerItemClassName:"py-1",rowClassName:"text-center",cellClassName:"py-0",header:["","","Total","Mine",""],span:{1:2,2:1,3:1},data:w.map(e=>["",(0,a.jsx)(BribeTit,{name:e.bribeSymbol},"1"),(0,x.d)(e.bribeTotalAmount),(0,x.d)(e.bribeAmount),""])})}),(0,a.jsxs)("div",{className:"rounded-lg border border-solid border-border px-4 py-2 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"font-semibold text-xs",children:[(0,a.jsxs)("div",{children:["My yToken: ",(0,a.jsx)("span",{className:(0,o.cn)(h),children:(0,x.d)(j)})]}),(0,a.jsxs)("div",{children:["Time Weighted Points:"," ",(0,a.jsx)("span",{className:(0,o.cn)(h),children:j>0n&&0n==y?"Reward received":(0,x.d)(y)})]})]}),(0,a.jsxs)("div",{className:"text-sm",children:["My Share: ",(0,a.jsx)("span",{className:(0,o.cn)(h,"text-xl"),children:N})]})]}),(0,a.jsx)("span",{className:"text-xs mx-auto",children:"You can harvest at the end of Epoch"}),(0,a.jsx)(C.vZ,{className:"mx-auto mt-4",tx:"Harvest",disabled:!b||!(null==b?void 0:b.settled),config:{abi:l.j5,address:s.vault,functionName:"claimBribes",args:[null==b?void 0:b.epochId]},onTxSuccess:()=>{S()}})]})]})]})}function BVaultPools(e){var t,s;let{bvc:n}=e,[i,r]=(0,g.useState)(!0),c=(0,u.Vw)(n.vault),d=(0,g.useMemo)(()=>i?c.filter(e=>e.userClaimableYTokenSyntyetic>0n||e.sBribes.reduce((e,t)=>e+t.bribeAmount,0n)>0n||e.aBribes.reduce((e,t)=>e+t.bribeAmount,0n)>0n):c,[c,i]),[m,p]=(0,k.Z)(),[h,v]=(0,g.useState)((null===(t=d[0])||void 0===t?void 0:t.epochId)||(null===(s=c[0])||void 0===s?void 0:s.epochId)),f=(0,g.useMemo)(()=>h?d.find(e=>e.epochId==h):d[0],[d,h]),b=(null==f?void 0:f.userBalanceYToken)||0n,j=(null==f?void 0:f.userBalanceYTokenSyntyetic)||0n,y=(null==f?void 0:f.userClaimableYTokenSyntyetic)||0n,onRowClick=e=>{var t;v(null===(t=d[e])||void 0===t?void 0:t.epochId)};(0,g.useEffect)(()=>{var e,t;c.length&&v((null===(e=d[0])||void 0===e?void 0:e.epochId)||(null===(t=c[0])||void 0===t?void 0:t.epochId))},[c.length]);let w=(null==f?void 0:f.sBribes)||[],N=(null==f?void 0:f.aBribes)||[],S=(0,u.R3)(n);return(0,a.jsxs)("div",{className:"md:h-[24.25rem] card !p-4",children:[(0,a.jsx)("div",{className:"font-bold text-base",children:"Harvest"}),(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-col md:flex-row gap-4 mt-2"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 shrink-0 w-full md:w-[14.375rem]",ref:m,children:[(0,a.jsxs)("div",{className:"flex items-center gap-8 text-sm font-semibold",children:[(0,a.jsx)("span",{children:"My Pool Only"}),(0,a.jsx)(Y.r,{checked:i,onChange:r})]}),(0,a.jsx)(T.aV,{className:d.length>6?"pr-5":"",width:p.width,height:280,rowHeight:e=>{let{index:t}=e;return t<d.length-1?76:56},overscanRowCount:6,rowCount:d.length,rowRenderer:function(e){let{key:t,style:s,index:n}=e,l=d[n],i="".concat((0,o.G$)(1000n*l.startTime),"-").concat((0,o.G$)((l.startTime+l.duration)*1000n));return(0,a.jsx)("div",{style:s,className:"cursor-pointer",onClick:()=>onRowClick(n),children:(0,a.jsxs)("div",{className:(0,o.cn)("h-[56px] card !rounded-lg !px-5 !py-2 font-semibold",n<d.length-1?"mb-[20px]":""),children:[(0,a.jsxs)("div",{className:"text-sm",children:["Epoch ",d[n].epochId.toString()]}),(0,a.jsx)("div",{className:"text-xs dark:text-white/60 mt-1",children:i})]})},t)}})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,a.jsxs)("div",{className:"flex gap-6 items-end font-semibold",children:[(0,a.jsx)("span",{className:"text-sm",children:"Rewards"}),(0,a.jsxs)("span",{className:"text-xs opacity-60",children:["Epoch ",((null==f?void 0:f.epochId)||h||1n).toString()]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto flex flex-col gap-4 font-semibold text-sm",children:[(0,a.jsxs)("div",{className:"flex gap-10 items-end font-semibold",children:[(0,a.jsxs)("span",{className:"text-sm",children:[n.yTokenSymbol," Balance"]}),(0,a.jsx)("span",{className:"text-sm opacity-60",children:(0,x.d)(b)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-5 justify-start relative pt-8 items-center",children:[w.map(e=>(0,a.jsxs)("div",{className:"flex items-center w-full relative gap-20 pl-[20%]",children:[(0,a.jsx)(BribeTit,{name:e.bribeSymbol}),(0,a.jsx)("div",{className:"absolute left-1/2",children:(0,x.d)(e.bribeAmount)})]},e.bribeToken)),(0,a.jsx)("span",{className:"absolute left-0 top-0",children:"Restaking Earnings"}),(0,a.jsx)("span",{className:"absolute left-1/2 top-0 opacity-60",children:"Claimable"}),(0,a.jsx)(C.vZ,{className:"absolute w-28 top-0 right-0",tx:"Claim",disabled:!f,config:{abi:l.l0,address:null==f?void 0:f.stakingBribesPool,functionName:"getBribes"},onTxSuccess:()=>{S()}})]}),(0,a.jsxs)("div",{className:"flex items-center relative",children:[(0,a.jsxs)("span",{className:"text-sm",children:["YT Points ",(0,a.jsx)(q.C,{children:"YT Points are calculated based on the duration of YT holding and apply to some uncertain rewards, such as airdrops."})]}),(0,a.jsx)("span",{className:" opacity-60 ml-10",children:(0,x.d)(j,void 0,23)}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 absolute left-1/2 top-0",children:[(0,a.jsx)("span",{className:"opacity-60",children:"Claimable"}),(0,a.jsx)("span",{children:(0,x.d)(y,void 0,23)})]}),(0,a.jsx)(C.vZ,{className:"w-28 ml-auto",tx:"Claim",disabled:!f,config:{abi:l.q3,address:null==f?void 0:f.adhocBribesPool,functionName:"collectYT"},onTxSuccess:()=>{S()}})]}),N.length>0&&(0,a.jsxs)("div",{className:"flex flex-col gap-5 justify-start relative pt-8 items-center",children:[N.map(e=>(0,a.jsxs)("div",{className:"flex items-center w-full relative gap-20 pl-[20%]",children:[(0,a.jsx)(BribeTit,{name:e.bribeSymbol}),(0,a.jsx)("div",{className:"absolute left-1/2",children:(0,x.d)(e.bribeAmount)})]},e.bribeToken)),(0,a.jsx)("span",{className:"absolute left-0 top-0",children:"Additional Incentives"}),(0,a.jsx)("span",{className:"absolute left-1/2 top-0 opacity-60",children:"Claimable"}),(0,a.jsx)(C.vZ,{className:"absolute w-28 top-0 right-0",tx:"Claim",disabled:!f,config:{abi:l.q3,address:null==f?void 0:f.adhocBribesPool,functionName:"getBribes"},onTxSuccess:()=>{S()}})]}),(0,a.jsx)("div",{className:"text-center text-sm font-medium flex items-center flex-nowrap justify-center whitespace-nowrap mt-auto gap-1"})]})]})]})]})}function BVaultApy(e){let{bvc:t,showTip:s=!1}=e,[n,l]=(0,u.oU)(t),{data:i}=(0,E.d)(),r=(0,o.Jh)(l+i,10);return s?(0,a.jsxs)(q.C,{className:"underline underline-offset-[3px]",node:r,children:[(0,a.jsxs)("div",{children:["vIP Base: ",(0,o.Jh)(i,10)]}),(0,a.jsxs)("div",{children:["YT Income: ",n]})]}):(0,a.jsx)(a.Fragment,{children:r})}function BVaultB(e){let{bvc:t}=e,s=(0,u.nr)(t.vault);return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[4fr_6fr] gap-5",children:[(0,a.jsx)(BVaultYInfo,{bvc:t}),(0,a.jsx)(P.Z,{bvc:t,epochId:s.epochCount}),(0,a.jsx)(BVaultYTrans,{bvc:t}),t.isOld?(0,a.jsx)(BVaultPoolsOld,{bvc:t}):(0,a.jsx)(BVaultPools,{bvc:t})]})}function BVaultCard(e){let{vc:t}=e,s=(0,j.useRouter)(),[l,c]=t.assetSymbol.split("-"),d=(0,u.nr)(t.vault),p=i.P[t.asset],h=(0,m.o)(e=>e.sliceTokenStore.prices,["sliceTokenStore.prices"]),v=p&&h[p.base]||0n,f=p&&h[p.quote]||0n,y=d.lpBase||0n,w=d.lpQuote||0n,N=y*v/r.Pq,k=w*f/r.Pq,T=N+k;0n===T&&(T=(d.lockedAssetTotal||0n)*(h[t.asset]||0n)/r.Pq);let[S]=(0,u.v7)(t.vault),B="Epoch ".concat(((null==d?void 0:d.epochCount)||0n).toString()),C=0n==d.epochCount?"-- -- --":(0,o.G$)((d.current.startTime+d.current.duration)*1000n,o.mv.DATE2),V=0n==d.epochCount?"":(0,o.Y)((d.current.startTime+d.current.duration)*1000n-BigInt(b().now())),{data:{avrageApy:P,items:A}}=(0,K.Zi)(t),{roi:I}=(0,K.tY)(t);return(0,a.jsxs)("div",{className:(0,o.cn)("card !p-0 grid grid-cols-2 overflow-hidden",{}),children:[(0,a.jsxs)("div",{className:(0,o.cn)(R.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center"),children:[(0,a.jsx)(L.c,{symbol:t.assetSymbol,size:44}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:t.assetSymbol}),(0,a.jsx)("div",{className:" text-sm font-medium",children:t.assetSymbol.includes("-")?"LP Token":""})]}),(0,a.jsxs)("div",{className:"ml-auto",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:["$",(0,x.d)(T,2)]})]})]}),p&&(0,R.BW)(l,y,N),p&&(0,R.BW)(c,w,k,18,!0),(0,R.yP)("Settlement Time",d.closed?"status-red":"status-green",d.closed?"Closed":(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,a.jsx)("span",{children:C}),(0,a.jsx)("span",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:V})]}),d.epochCount>0n&&(0,a.jsx)("div",{className:"absolute top-full mt-1 left-0 text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:B})]})),(0,R.yP)("Reward",t.rewardSymbol||"vIP",(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)("span",{children:t.rewardSymbol||"vIP"}),(0,a.jsxs)("div",{className:"text-xs whitespace-nowrap absolute top-2/3 left-1/2 -translate-x-1/2",children:["Underlying APY:",(0,a.jsx)(q.C,{node:(0,a.jsx)("span",{className:"underline underline-offset-2",children:(0,o.Jh)(P,18,2)}),children:(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("div",{className:"p-2",children:"IP Asset"}),(0,a.jsx)("div",{className:"p-2",children:"Restaked"}),(0,a.jsx)("div",{className:"p-2",children:"APY"}),A.map(e=>(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)("div",{className:"px-2",children:e.tit||"-"}),(0,a.jsx)("div",{className:"px-2",children:(0,x.d)(e.staked)}),(0,a.jsx)("div",{className:"px-2",children:(0,o.Jh)(e.apy,18,2)})]},e.tit))]})})]})]}),!0),(0,R.Sn)("PToken","Principal Token",(0,a.jsx)(BVaultApy,{bvc:t}),"YToken","Yield Token","".concat((0,o.Jh)(I,18,2)),e=>{e.stopPropagation(),(0,n.rc)(s,t.vault,"principal_token")},e=>{e.stopPropagation(),(0,n.rc)(s,t.vault,"yield_token")})]})}function BVaultCardComming(e){let{symbol:t=""}=e;return(0,a.jsxs)("div",{className:(0,o.cn)("card cursor-pointer !p-0 grid grid-cols-2 overflow-hidden h-[20rem]",{}),children:[(0,a.jsxs)("div",{className:(0,o.cn)(R.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center h-20"),children:[(0,a.jsx)(L.c,{symbol:t,size:44}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:t}),(0,a.jsx)("div",{className:" text-sm font-medium",children:t.includes("-")?"LP Token":""})]}),(0,a.jsxs)("div",{className:"ml-auto",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:"$-"})]})]}),(0,a.jsx)("div",{className:(0,o.cn)(R.bG,"col-span-2"),children:(0,a.jsx)("div",{className:"text-xs font-semibold leading-[12px] whitespace-nowrap",children:"New Vault Coming Soon..."})})]})}},67003:function(e,t,s){s.d(t,{Z:function(){return BvaultEpochYtPrices}});var a=s(52987),n=s(75535),l=s(64370),i=s(49041),r=s(13854),c=s(64217),o=s(83978),d=s.n(o),m=s(77317),u=s(14993),x=s(29332);let bnToNum=e=>d().round(parseFloat((0,x.d)(BigInt(e))),5),logTrans=e=>d().round(Math.log10(90*e+1),5),revertLog=e=>d().round((Math.pow(10,e)-1)/90,5);function BvaultEpochYtPrices(e){let{bvc:t,epochId:s}=e,{data:o}=(0,l.a)({queryKey:["bvualt-epoch-yt-prices",t.vault,s],queryFn:()=>(0,n.l6)(t.vault,s),initialData:[]}),[d,x]=(0,u.Z)(!0),{options:p}=(0,m.useMemo)(()=>{let e=o.map(e=>[(0,r.G$)(1e3*e.time,r.mv.ALL),d?logTrans(bnToNum(e.price)):bnToNum(e.price)]),valueFormater=e=>d?revertLog(e).toString():e.toString(),t={animation:!0,animationDuration:200,tooltip:{trigger:"axis",valueFormatter:valueFormater},grid:{top:30,bottom:30,right:20,show:!1},toolbox:{show:!1},xAxis:{type:"category",boundaryGap:!1,axisLine:{onZero:!1}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1},max:e=>1.1*e.max,axisLabel:{formatter:valueFormater}},dataZoom:[{type:"inside",start:0,end:100,minValueSpan:10},{show:!1}],series:[{name:"YT Price",type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"rgb(30, 202, 83)"},areaStyle:{origin:"start",color:new c.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(30, 202, 83)"},{offset:1,color:"rgba(30, 202, 83, 0.2)"}])},data:e}]};return{data:e,options:t}},[o,d]);return(0,a.jsxs)("div",{className:"card p-4 mx-auto max-w-4xl w-full min-w-0 bg-white",children:[(0,a.jsxs)("div",{className:"flex justify-between gap-2 items-center",children:[(0,a.jsx)("span",{className:"text-base font-bold",children:"YT Price Chart"}),(0,a.jsx)("span",{className:"text-xs font-medium dark:text-[#FBECEC]"})]}),(0,a.jsx)("div",{className:"flex gap-2 justify-end items-center mt-2",children:(0,a.jsx)("span",{className:(0,r.cn)("cursor-pointer text-xs px-1 py-0 rounded border-primary border",d?"bg-primary":"bg-transparent"),onClick:()=>x(),children:"LOG"})}),(0,a.jsx)(i.Z,{option:p,style:{height:240}})]})}},51470:function(e,t,s){s.d(t,{x:function(){return GetvIP}});var a=s(52987);s(81501);var n=s(53414),l=s(85049),i=s.n(l),r=s(31506),c=s(7347),o=s(99409);function GetvIP(e){let{address:t}=e,s=(0,o.pK)(),l=(0,c.kb)(t,s);return(null==l?void 0:l.symbol)!=="vIP"?null:(0,a.jsxs)("div",{className:"text-xs font-medium flex gap-2 justify-end items-center",children:[(0,a.jsx)(r.c,{symbol:"verio",size:18}),(0,a.jsx)(i(),{target:"_blank",className:"underline",href:(0,n.FN)(t),children:"Get vIP on Verio"})]})}},27022:function(e,t,s){var a=s(52987),n=s(13854),l=s(83978),i=s.n(l);function DefEmpty(){return(0,a.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,a.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}s(77317),t.ZP=e=>{let{header:t,data:s,span:l={},empty:r=(0,a.jsx)(DefEmpty,{}),className:c="relative min-w-full bg-transparent ",headerClassName:o,headerItemClassName:d,tbodyClassName:m="",rowClassName:u,rowStyle:x,cellClassName:p,onClickRow:h,onRowMouseHover:v}=e,f=t.reduce((e,t,s)=>{var a;return e+(null!==(a=l[s])&&void 0!==a?a:1)},0),b=f>0?100/f:0;return(0,a.jsxs)("table",{className:(0,n.cn)("relative min-w-full bg-transparent ",c),children:[(0,a.jsx)("thead",{className:"",children:(0,a.jsx)("tr",{className:(0,n.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",o),children:t.map((e,t)=>{var s;return(0,a.jsx)("th",{style:{width:"".concat(i().floor(b*(null!==(s=l[t])&&void 0!==s?s:1),2),"%")},scope:"col",className:(0,n.cn)(0==l[t]?"p-0 w-0":"p-3 font-normal text-sm",d),children:e},t)})})}),(0,a.jsxs)("tbody",{className:(0,n.cn)(m),children:[s.map((e,s)=>(0,a.jsx)("tr",{onClick:()=>h&&h(s),onMouseEnter:()=>v&&v(s),onMouseLeave:()=>v&&v(-1),style:"function"==typeof x?x(s):x,className:(0,n.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",h?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof u?u(s):u),children:e.map((e,i)=>i>=t.length?(0,a.jsx)(a.Fragment,{children:e}):(0,a.jsx)("td",{className:(0,n.cn)(0==l[i]?"p-0 w-max":"px-3 py-2 text-sm w-max","function"==typeof p?p(s,i):p),children:e},i))},s)),0===s.length&&r]})]})}},97154:function(e,t,s){s.d(t,{V:function(){return Switch2},r:function(){return Switch}});var a=s(52987),n=s(13854),l=s(78525),i=s(19698),r=s.n(i);function Switch(e){let t=(0,l.l)();return(0,a.jsx)("div",{style:{padding:1,border:"1px solid transparent",backgroundRepeat:"no-repeat",backgroundClip:"padding-box,border-box",backgroundOrigin:"padding-box,border-box",backgroundImage:e.checked?"radial-gradient(#0B1215,#0B1215),radial-gradient(122.5% 122.5% at 52.9% 16.25%, #6366F1 0%, #6366F1 36.26%, #6366F1 92.54%)":"light"==t.theme?"radial-gradient(#FAFAFA,#FAFAFA),radial-gradient(#0A1114,#0A1114)":"radial-gradient(#0A1114,#0A1114),radial-gradient(#4A5546,#4A5546)"},className:(0,n.cn)("relative h-[1em] w-[2.5em] cursor-pointer rounded-[0.4em] text-xl"),onClick:()=>{var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e,!e.checked)},children:(0,a.jsx)("div",{className:(0,n.cn)("transition-all h-full w-[1.5em] absolute top-0 rounded-[0.4em]",e.checked?"left-[1em]":"-left-[1px]"),style:{background:e.checked?"radial-gradient(76.25% 76.25% at 50.3% 23.75%, #6366F1 0%, #6366F1 100%)":"#3B4144"}})})}function Switch2(e){var t,s;let l=null!==(t=e.border)&&void 0!==t?t:1,i=null!==(s=e.size)&&void 0!==s?s:16,c=r()(1.2*i),o=r()(i),d=r()(2*c+2*l),m=r()(i+2*l);return(0,a.jsx)("div",{style:{borderWidth:l,height:m,width:d},className:(0,n.cn)("relative inline-block bg-gray-300 rounded-full border-primary transition duration-200 ease-in-out cursor-pointer",e.checked&&"bg-primary",e.className),onClick:()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,!e.checked)},children:(0,a.jsx)("div",{style:{width:c,height:o},className:(0,n.cn)("left-0 w-6 bg-white dark:bg-black rounded-full shadow-md transform transition duration-200 ease-in-out",e.checked&&"translate-x-full")})})}},25282:function(e,t,s){s.d(t,{C:function(){return Tip}});var a=s(52987),n=s(13854),l=s(52653),i=s(55966);function Tip(e){let{children:t,node:s,className:r,inFlex:c,contentClassName:o}=e,d=document.getElementById("tooltip-root");return t?(0,a.jsx)(l.zt,{children:(0,a.jsxs)(l.fC,{children:[(0,a.jsx)(l.xz,{asChild:!0,onClickCapture:e=>{e.preventDefault(),e.stopPropagation()},children:s?(0,a.jsx)("div",{className:(0,n.cn)("inline-block cursor-default",r),style:{verticalAlign:"text-bottom"},children:s}):(0,a.jsx)("div",{className:(0,n.cn)(c?"flex":"translate-y-[-6%] inline-block"," px-[3px] cursor-default relative",r),children:(0,a.jsx)(i.apP,{className:"inline-block stroke-slate-500"})})}),(0,a.jsx)(l.h_,{container:d,children:(0,a.jsxs)(l.VY,{className:(0,n.cn)("max-w-xs text-sm text-white bg-slate-900 shadow-lg dark:bg-[#333333] rounded-md p-4",o),children:[t,(0,a.jsx)(l.Eh,{})]})})]})}):s}},7807:function(e,t,s){s.d(t,{BW:function(){return renderToken},Sn:function(){return renderChoseSide},bG:function(){return c},yP:function(){return renderStat}});var a=s(52987),n=s(13854),l=s(29293),i=s(31506),r=s(45820);let c="py-5 flex flex-col items-center gap-2 relative dark:border-border border-solid",renderToken=function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,a.jsx)("div",{className:(0,n.cn)(c,"border-b",{"border-l":o}),children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap flex gap-2 items-center",children:[(0,a.jsx)(i.c,{symbol:e,size:14}),e]}),(0,a.jsxs)("div",{className:"flex mt-2 flex-col gap-1 pl-[1.375rem] text-xs font-medium",children:[(0,a.jsx)("span",{className:"",children:(0,l.d)(t,void 0,r)}),(0,a.jsx)("span",{className:" text-[#64748B] dark:text-slate-50/60",children:"$".concat((0,l.d)(s,2,r))})]})]})})},renderStat=function(e,t,s){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,a.jsx)("div",{className:(0,n.cn)(c,"border-b pb-10",{"border-l":l}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap text-center",children:e}),(0,a.jsxs)("div",{className:"flex mt-2 items-center gap-2 text-sm font-medium",children:[(0,a.jsx)(i.c,{symbol:t,size:14}),"string"==typeof s?(0,a.jsx)("span",{children:s}):s]})]})})},BtnWrap=e=>{let{children:t,onClick:s,...n}=e;return(0,a.jsx)(r.k6,{hiddenBorder:!0,...n,disabled:!e.onClick,onClick:s,children:t})},renderChoseSide=(e,t,s,l,r,o,d,m)=>(0,a.jsxs)("div",{className:(0,n.cn)(c,"col-span-2 gap-4"),children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Choose your side"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 w-full px-4",children:[(0,a.jsx)(BtnWrap,{className:(0,n.cn)("h-[4.25rem] w-full relative disabled:opacity-100 disabled:cursor-default"),onClick:d,children:(0,a.jsxs)("div",{className:"flex gap-2 items-center p-4 w-full h-[4.25rem] absolute left-0 top-0",children:[(0,a.jsx)(i.c,{symbol:e,size:36}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,a.jsx)("div",{className:"text-white/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:t}),!!s&&(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:s})]})]})}),(0,a.jsx)(BtnWrap,{className:(0,n.cn)("h-[4.25rem] w-full relative disabled:opacity-100 disabled:cursor-default"),onClick:m,children:(0,a.jsxs)("div",{className:"flex flex-row-reverse gap-2 items-center p-4 w-full h-[4.25rem] absolute left-0 top-0",children:[(0,a.jsx)(i.c,{symbol:l,size:36}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,a.jsx)("div",{className:"text-white/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:r}),!!o&&(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:o})]})]})})]})]})},422:function(e,t,s){s.d(t,{Ev:function(){return useLoadBVaults},a1:function(){return useLoadLVaults},g2:function(){return useLoadUserBVaults},tK:function(){return useLoadLntVaults},z2:function(){return useLoadUserLVaults}});var a=s(58400),n=s(79999),l=s(96555),i=s(32422),r=s(64370),c=s(83978),o=s.n(c),d=s(77317),m=s(87621),u=s(99409),x=s(61650);function useLoadLVaults(){let e=(0,u.pK)(),t=n.iK[e]||[],{address:s}=(0,m.m)(),a=(0,d.useMemo)(()=>o().chain(n.iK[e]||[]).map(e=>[e.assetTokenAddress,e.xTokenAddress]).flatten().concat([n.O1[e]]).union().value(),[e]);(0,r.a)({queryKey:["UpdateLvautlsTokens",a],queryFn:async()=>(await i.w.getState().sliceTokenStore.updateTokenTotalSupply(a),!0)}),(0,r.a)({queryKey:["UpdateUserLvautlsTokens",a,s],queryFn:async()=>!!s&&(await i.w.getState().sliceTokenStore.updateTokensBalance(a,s),!0)}),(0,r.a)({queryKey:["UpdateLVautls",t],queryFn:async()=>(await i.w.getState().sliceLVaultsStore.updateLVaults(t),!0)})}function useLoadBVaults(){let e=(0,u.pK)(),t=(0,d.useMemo)(()=>a.Fw[e].filter(e=>(e.onEnv||[]).includes(l.Vi)),[e,l.Vi]),{isLoading:s}=(0,r.a)({queryKey:["UpdateBVaults",t],queryFn:async()=>(await Promise.all([i.w.getState().sliceBVaultsStore.updateBvaults(t),i.w.getState().sliceBVaultsStore.updateYTokenSythetic(t)]),!0)}),{address:n}=(0,m.m)(),c=(0,d.useMemo)(()=>t.map(e=>[e.asset,e.pToken]).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]),[t]),{isLoading:o}=(0,r.a)({queryKey:["UpdateBvautlsTokens",c],queryFn:async()=>(await Promise.all([i.w.getState().sliceTokenStore.updateTokenTotalSupply(c),i.w.getState().sliceTokenStore.updateTokenPrices(c)]),!0),throwOnError:(e,t)=>(console.error(e),!1)}),{isLoading:x}=(0,r.a)({queryKey:["UpdateUserBvautlsTokens",c,n],queryFn:async()=>!!n&&(await i.w.getState().sliceTokenStore.updateTokensBalance(c,n),!0)});return{loading:s||o||x}}function useLoadLntVaults(){let e=(0,u.pK)(),t=(0,d.useMemo)(()=>{var t;return(null===(t=x.f_[e])||void 0===t?void 0:t.filter(e=>(e.onEnv||[]).includes(l.Vi)))||[]},[e,l.Vi]);(0,r.a)({queryKey:["UpdateLntVaults",t],queryFn:async()=>(await i.w.getState().sliceLntVaultsStore.updateLntVaults(t),!0)});let{address:s}=(0,m.m)(),a=(0,d.useMemo)(()=>t.map(e=>[e.vestingToken,e.vToken]).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]),[t]);(0,r.a)({queryKey:["UpdateLntvautlsTokens",a],queryFn:async()=>(await i.w.getState().sliceTokenStore.updateTokenTotalSupply(a),await i.w.getState().sliceTokenStore.updateTokenPrices(a),!0),throwOnError:(e,t)=>(console.error(e),!1)}),(0,r.a)({queryKey:["UpdateUserLntvautlsTokens",a,s],queryFn:async()=>!!s&&(await i.w.getState().sliceTokenStore.updateTokensBalance(a,s),!0)})}function useLoadUserLVaults(){let{address:e}=(0,m.m)(),t=(0,u.pK)(),s=n.iK[t]||[];(0,r.a)({queryKey:["UpdateAllUserLVaults",t,e,s],queryFn:async()=>!!e&&(await Promise.all(s.map(t=>i.w.getState().sliceLVaultsStore.updateUserLVault(t,e))),!0)})}function useLoadUserBVaults(){let{address:e}=(0,m.m)(),t=(0,u.pK)(),s=(0,d.useMemo)(()=>a.Fw[t].filter(e=>(e.onEnv||[]).includes(l.Vi)),[t,l.Vi]),n=(0,i.o)(e=>o().keys(e.sliceBVaultsStore.bvaults).toString(),["sliceBVaultsStore.bvaults"]);(0,r.a)({queryKey:["UpdateAllUserBvaults",s,t,e,n],queryFn:async()=>{if(!e)return!1;let t=i.w.getState().sliceBVaultsStore.bvaults;for(let e of s)if(!t[e.vault])return!1;await Promise.all(s.map(e=>i.w.getState().sliceBVaultsStore.updateEpoches(e)));let getEpochesParams=e=>{let t=i.w.getState().sliceBVaultsStore.bvaults[e.vault],s=[];for(let a=parseInt(t.epochCount.toString());a>0;a--){let t=i.w.getState().sliceBVaultsStore.epoches["".concat(e.vault,"_").concat(a)];s.push(t)}return s};return await Promise.all(s.map(t=>i.w.getState().sliceUserBVaults.updateEpoches(t,e,getEpochesParams(t)))),!0}})}},17014:function(e,t,s){s.d(t,{d:function(){return useVerioStakeApy}});var a=s(43213),n=s(58400),l=s(96555),i=s(62628),r=s(64370),c=s(99409);function useVerioStakeApy(){let e=(0,c.pK)(),t=n.Be[e];return(0,r.a)({initialData:0n,queryKey:["VerioStakeApy",t],enabled:!!t,queryFn:async()=>{let e=(0,i.B)(),s=await e.readContract({abi:a.PJ,address:t,functionName:"getTotalStake"});return 262750n*l.Pq*l.$X/s}})}}}]);