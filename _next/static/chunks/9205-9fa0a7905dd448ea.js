"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9205],{51966:function(e,t,a){a.d(t,{v:function(){return ApproveAndTx},L:function(){return NftApproveAndTx}});var n=a(52628),r=a(6194),s=a(15493),c=a(66986),l=a(83978),o=a.n(l),u=a(83508),i=a(47259),d=a(58714),p=a(6951),f=a(36602);let b={},useApproves=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:n,chainId:l}=(0,p.m)(),{data:o}=(0,f.p)(),[m,v]=(0,u.useState)(!1),h=(0,u.useMemo)(()=>Object.keys(e).filter(e=>e!==r.K8),[e]),[x,g]=(0,u.useState)(t&&b[t]||{}),updateAllownce=(e,a)=>{t&&(b[t]={...b[t]||{},[e]:a},g(t=>({...t,[e]:a})))};(0,u.useEffect)(()=>{n&&t&&l&&h.forEach(e=>{(0,c.B)().readContract({abi:d.Wo,address:e,functionName:"allowance",args:[n,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[h,l,n]);let[y,w]=(0,u.useState)(!1),A=(0,u.useMemo)(()=>h.filter(t=>(0,s.ok)(e,t)>0n&&(0,s.ok)(e,t)>(0,s.ok)(x,t)),[e,h,x]),approve=async()=>{if(0!=A.length&&t)try{w(!0),v(!1);for(let n=0;n<A.length;n++){let r=A[n],s=!1===a?e[r]:a,l=await (null==o?void 0:o.writeContract({abi:d.Wo,address:r,functionName:"approve",args:[t,s]}));l&&await (0,c.B)().waitForTransactionReceipt({hash:l}),updateAllownce(r,s)}i.A.success("Approve success"),w(!1),v(!0)}catch(e){i.A.error((0,s.az)(e)),w(!1),v(!1)}};return{approve,loading:y,shouldApprove:A.length>0,isSuccess:m}},m={},useNftApproves=(e,t)=>{let{address:a,chainId:n}=(0,p.m)(),{data:r}=(0,f.p)(),[l,b]=(0,u.useState)(!1),v=o().keys(e),[h,x]=(0,u.useState)(t&&m[t]||{}),updateAllownce=(e,a)=>{t&&(m[t]={...m[t]||{},[e]:a},x(t=>({...t,[e]:a})))};(0,u.useEffect)(()=>{a&&t&&n&&v.forEach(e=>{(0,c.B)().readContract({abi:d.Hr,address:e,functionName:"isApprovedForAll",args:[a,t]}).then(t=>t!==h[e]&&updateAllownce(e,t)).catch(console.error)})},[v,n,a]);let[g,y]=(0,u.useState)(!1),w=(0,u.useMemo)(()=>v.filter(e=>!h[e]),[e,v,h]),approve=async()=>{if(0!=w.length&&t)try{y(!0),b(!1);for(let e=0;e<w.length;e++){let a=w[e],n=await (null==r?void 0:r.writeContract({abi:d.Hr,address:a,functionName:"setApprovalForAll",args:[t,!0]}));n&&await (0,c.B)().waitForTransactionReceipt({hash:n}),updateAllownce(a,!0)}i.A.success("Approve success"),y(!1),b(!0)}catch(e){i.A.error((0,s.az)(e)),y(!1),b(!1)}};return{approve,loading:g,shouldApprove:w.length>0,isSuccess:l}};var v=a(16248),h=a(88501),x=a(70475);function ApproveAndTx(e){let{className:t,tx:a,busyShowTxet:r=!0,approves:s,spender:c,requestAmount:l,config:o,toast:i=!0,skipSimulate:d=!1,disabled:p,confirmations:f,onTxSuccess:b,onApproveSuccess:m}=e,{write:g,isDisabled:y,isLoading:w}=(0,v.R)(o,{onSuccess:()=>b&&b(),autoToast:i,skipSimulate:d,confirmations:f}),A=p||y||w||!1===o.enabled,{approve:k,shouldApprove:j,loading:C,isSuccess:N}=useApproves(s||{},c,l),E=(0,u.useRef)();return(E.current=m,(0,u.useEffect)(()=>{E.current&&N&&E.current()},[N]),j)?(0,n.jsx)(x.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:k,busy:C,disabled:p||!k||C,children:"Approve"}):(0,n.jsx)(x.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:()=>g(),busy:w,busyShowContent:r,disabled:A,children:a})}function NftApproveAndTx(e){let{className:t,tx:a,busyShowTxet:r=!0,approves:s,spender:c,requestAmount:l,config:o,toast:i=!0,skipSimulate:d=!1,disabled:p,confirmations:f,onTxSuccess:b,onApproveSuccess:m}=e,{write:g,isDisabled:y,isLoading:w}=(0,v.R)(o,{onSuccess:()=>b&&b(),autoToast:i,skipSimulate:d,confirmations:f}),A=p||y||w||!1===o.enabled,{approve:k,shouldApprove:j,loading:C,isSuccess:N}=useNftApproves(null!=s?s:{},c),E=(0,u.useRef)();return(E.current=m,(0,u.useEffect)(()=>{E.current&&N&&E.current()},[N]),j)?(0,n.jsx)(x.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:k,busy:C,disabled:p||!k||C,children:"Approve"}):(0,n.jsx)(x.k6,{className:(0,h.m)("flex items-center justify-center gap-4",t),onClick:()=>g(),busy:w,busyShowContent:r,disabled:A,children:a})}},43118:function(e,t,a){a.d(t,{Ak:function(){return Expandable},At:function(){return d},UT:function(){return GeneralAction},pk:function(){return p}});var n=a(52628),r=a(15493),s=a(83508),c=a(23125),l=a(83960),o=a(58409),u=a(62531),i=a(51966);let d={menu:()=>(0,r.cn)("bg-white dark:bg-black dark:border"),option:e=>(0,r.cn)({"!bg-primary/50":e.isFocused,"!bg-primary":e.isSelected}),control:()=>"bg-white dark:bg-black !min-h-[58px] !border-primary/70 !shadow-none",singleValue:()=>"dark:text-white"},p="bg-white dark:bg-transparent border-primary/70 w-full h-14 text-right pr-4 font-bold text-sm border focus:border-2  rounded-md outline-none ",defConvertArg=(e,t,a)=>"uint8"==a.type?parseInt((e||"").replaceAll(" ","")):a.type.startsWith("uint")?BigInt((e||"").replaceAll(" ","")):"bytes32"==a.type?(0,u.$G)(e,{size:32}):"bool"==a.type?"true"==e.toLowerCase():e,convertArgs=(e,t,a)=>{try{return e.map((e,n)=>{let r=t[n];return a?a(e,n,r):defConvertArg(e,n,r)})}catch(e){return}};function Expandable(e){let{children:t,tit:a,disable:r}=e,[o,u]=(0,s.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col w-full bg-white dark:bg-transparent rounded-lg overflow-hidden border border-solid border-primary/40",children:[(0,n.jsxs)("div",{className:"px-5 py-2 min-h-[58px] flex justify-between items-center text-sm",children:[(0,n.jsx)("div",{className:"font-medium text-base",children:a}),r?t:(0,n.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-primary flex items-center text-xs text-primary cursor-pointer ",onClick:()=>u(!o),children:[(0,n.jsx)("span",{className:"mr-[5px]",children:o?"Close":"Expand"}),o?(0,n.jsx)(l.iRh,{}):(0,n.jsx)(l.tv1,{})]})]}),(0,n.jsx)(c.Collapse,{isOpened:o,theme:{content:"bg-gray-200 dark:bg-transparent p-4 flex flex-col gap-2 whitespace-break-spaces"},children:t})]})}function GeneralAction(e){var t,a;let{abi:c,address:l,functionName:u,tit:d,infos:f,convertArg:b,txProps:m,onArgs:v,argsDef:h}=e,x=c.find(e=>"function"==e.type&&e.name==u),g=(null==x?void 0:null===(t=x.inputs)||void 0===t?void 0:t.length)||0,[{args:y,value:w},A]=(0,o.Z)({value:"",args:"function"!=typeof h&&(null==h?void 0:h.length)==g&&g>0?h:Array(g).fill("")}),k=(0,r.su)(w);(0,s.useEffect)(()=>{v&&v(y)},[y]);let j=(0,s.useRef)(0);if((0,s.useEffect)(()=>{j.current++;let e=j.current;Promise.resolve(h).then(e=>"function"==typeof e?e():e||[]).then(t=>e==j.current&&A({args:y.map((e,a)=>e||t[a]||"")}))},[h]),!x)return;let C=!x.inputs||0==x.inputs.length;return(0,n.jsxs)(Expandable,{tit:d||u,disable:C,children:[null===(a=x.inputs)||void 0===a?void 0:a.map((e,t)=>(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"opacity-60 absolute top-1/2 left-2 -translate-y-1/2 text-xs",children:e.name}),(0,n.jsx)("input",{type:"text",value:y[t],onChange:e=>A({args:y.map((a,n)=>t==n?e.target.value:a)}),className:(0,r.cn)(p)})]},"input_".concat(t))),"payable"==x.stateMutability&&(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"opacity-60 absolute top-1/2 left-2 -translate-y-1/2 text-xs",children:"value"}),(0,n.jsx)("input",{type:"text",value:w,onChange:e=>A({value:e.target.value}),className:(0,r.cn)(p)})]}),f,(0,n.jsx)(i.v,{...m||{},tx:"Write",config:{abi:c,address:l,functionName:u,...y.length?{args:convertArgs(y,x.inputs,b)}:{},value:k},className:(0,r.cn)("!mt-0 flex items-center justify-center gap-4",C?"max-w-[100px]":"w-full")})]})}},3107:function(e,t,a){a.d(t,{E:function(){return PageWrap}});var n=a(52628);a(83508);var r=a(15493),s=a(38762),c=a(54648);function PageWrap(e){let{children:t,className:a}=e,l=(0,c.l)(e=>e.theme),o=(0,s.usePathname)();return(0,n.jsx)("div",{className:(0,r.cn)("min-h-[calc(100vh+1px)] h-auto pt-[90px] pb-6",a),style:{backgroundSize:"contain",background:"light"==l?"transparent":"/"==o?"url(bg_home.svg) center bottom no-repeat,linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)":"linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)"},children:t})}},34783:function(e,t,a){a.d(t,{j:function(){return s}});var n=a(51186),r=a(15493);let s=(0,r.Yb)({[n.F.id]:[{tit:"vIP-Verio Vault",vault:"0xc627b57fe01017df26db0003e65faf416b8d770d",asset:"0xb09a8ba59615a552231cefcee80c3b88706597ed",bt:"0xf37b6ec18cee80634de01aef83701d6e726e7fc9",market:"0x4808b490a42df75e76b366833cafa2f1b6aab21d",mintpool:"0x71a7cc46193b0f0c011c20c7ac8ebd4ca60d9c2b",maturitypool:"0x670d23ee04a9d0ea28ed218f1dfb182cfbeb7051",protocal:"0xb9c720333e9b9bf8f3b07386dba730873a8f13bb",protocalSettings:"0xfcdb6aabf37b81c718beb260a9384312fe2c8a2c",hook:"0x0482851c6d27fcf8feff37074e62657c7e75fa88",mockInfraredVault:"0xccdf8f1205b61a43aece81f87957930032078e7b",onEnv:["test"]}]},[])},78373:function(e,t,a){a.d(t,{G:function(){return useVaultsConfigs}});var n=a(31480),r=a(6194),s=a(4605),c=a(83508),l=a(58409),o=a(90947),u=a(43625),i=a(34783);function useVaultsConfigs(){let e=(0,o.p)(),t=r.iK[e]||[],a=r.VQ[e]||[],d=(0,c.useMemo)(()=>(n.Fw[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(s.Vi)),[e]),p=(0,c.useMemo)(()=>(u.f_[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(s.Vi)),[e]),f=(0,c.useMemo)(()=>(i.j[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(s.Vi)),[e]),b=(0,c.useMemo)(()=>{let e=t.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"L-Vault"})),n=a.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"P-Vault"})),r=d.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"B-Vault"})),s=p.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"Lnt-Vault"})),c=f.map(e=>({label:e.tit,value:e.vault,data:e,type:"B-Vault2"}));return[...e,...n,...r,...s,...c].map(e=>({...e,label:"".concat(e.label,"(").concat(e.type,":").concat(e.data.vault,")")}))},[t,a,d,p]),[{current:m},v]=(0,l.Z)({current:b[0]});return{current:m,setState:v,options:b}}},19532:function(e,t,a){a.d(t,{D2:function(){return useWandContractRead},uX:function(){return useWandContractReads}}),a(66986);var n=a(83978),r=a.n(n);a(83508);var s=a(16931),c=a(61191),l=a(93108);let o=(0,l.Ue)(e=>({time:r().now(),update:()=>{e({time:r().now()})}}));function useWandContractRead(e){let{time:t}=o();return(0,s.u)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}function useWandContractReads(e){let{time:t}=o();return(0,c.N)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}},16248:function(e,t,a){a.d(t,{R:function(){return useWrapContractWrite}});var n=a(15493),r=a(66986),s=a(83508),c=a(47259),l=a(36602);function useWrapContractWrite(e,t){let{autoToast:a=!0,onSuccess:o}=t||{},[u,i]=(0,s.useState)(!1),[d,p]=(0,s.useState)(!1),{data:f}=(0,l.p)(),b=!f||!f.account||u||!e,write=async()=>{if(!b){i(!0),p(!1);try{let n="function"==typeof e?await e():e,s=(0,r.B)(),l={account:f.account,...n};if(!(null==t?void 0:t.skipSimulate)){let e=await s.simulateContract(l);l=e.request}let u=await f.writeContract(l),i=await s.waitForTransactionReceipt({hash:u,confirmations:null==t?void 0:t.confirmations});if("success"!==i.status)throw"Transaction reverted";p(!0),o&&o(),a&&c.A.success("Transaction success")}catch(e){a&&c.A.error((0,n.az)(e))}i(!1)}};return{write,isDisabled:b,isLoading:u,isSuccess:d}}}}]);