(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8728],{62653:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var s=n(55731),a=n(77317),r=n(13012),i=n(40460);let l={0:"grid-cols-none",1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",7:"grid-cols-7",8:"grid-cols-8",9:"grid-cols-9",10:"grid-cols-10",11:"grid-cols-11",12:"grid-cols-12"},o={0:"sm:grid-cols-none",1:"sm:grid-cols-1",2:"sm:grid-cols-2",3:"sm:grid-cols-3",4:"sm:grid-cols-4",5:"sm:grid-cols-5",6:"sm:grid-cols-6",7:"sm:grid-cols-7",8:"sm:grid-cols-8",9:"sm:grid-cols-9",10:"sm:grid-cols-10",11:"sm:grid-cols-11",12:"sm:grid-cols-12"},c={0:"md:grid-cols-none",1:"md:grid-cols-1",2:"md:grid-cols-2",3:"md:grid-cols-3",4:"md:grid-cols-4",5:"md:grid-cols-5",6:"md:grid-cols-6",7:"md:grid-cols-7",8:"md:grid-cols-8",9:"md:grid-cols-9",10:"md:grid-cols-10",11:"md:grid-cols-11",12:"md:grid-cols-12"},d={0:"lg:grid-cols-none",1:"lg:grid-cols-1",2:"lg:grid-cols-2",3:"lg:grid-cols-3",4:"lg:grid-cols-4",5:"lg:grid-cols-5",6:"lg:grid-cols-6",7:"lg:grid-cols-7",8:"lg:grid-cols-8",9:"lg:grid-cols-9",10:"lg:grid-cols-10",11:"lg:grid-cols-11",12:"lg:grid-cols-12"},u=(0,r.fn)("Grid"),Grid_c=(e,t)=>e&&Object.keys(t).includes(String(e))?t[e]:"",m=a.forwardRef((e,t)=>{let{numItems:n=1,numItemsSm:r,numItemsMd:m,numItemsLg:x,children:f,className:h}=e,v=(0,s._T)(e,["numItems","numItemsSm","numItemsMd","numItemsLg","children","className"]),p=(0,a.useMemo)(()=>{let e=Grid_c(n,l),t=Grid_c(r,o),s=Grid_c(m,c),a=Grid_c(x,d);return(0,i.q)(e,t,s,a)},[n,r,m,x]);return a.createElement("div",Object.assign({ref:t,className:(0,i.q)(u("root"),"grid",p,h)},v),f)});m.displayName="Grid"},68495:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,s=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function(e,t){return new Promise(function(n,s){function errorListener(n){e.removeListener(t,resolver),s(n)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),n([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var r=10;function checkListener(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,n,s){if(checkListener(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),i=r[t]),void 0===i)i=r[t]=n,++e._eventsCount;else if("function"==typeof i?i=r[t]=s?[n,i]:[i,n]:s?i.unshift(n):i.push(n),(a=_getMaxListeners(e))>0&&i.length>a&&!i.warned){i.warned=!0;var a,r,i,l=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,console&&console.warn&&console.warn(l)}return e}function onceWrapper(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,n){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=onceWrapper.bind(s);return a.listener=n,s.wrapFn=a,a}function _listeners(e,t,n){var s=e._events;if(void 0===s)return[];var a=s[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):arrayClone(a,a.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function arrayClone(e,t){for(var n=Array(t),s=0;s<t;++s)n[s]=e[s];return n}function eventTargetAgnosticAddListener(e,t,n,s){if("function"==typeof e.on)s.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function wrapListener(a){s.once&&e.removeEventListener(t,wrapListener),n(a)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");r=e}}),EventEmitter.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a="error"===e,r=this._events;if(void 0!==r)a=a&&void 0===r.error;else if(!a)return!1;if(a){if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var i,l=Error("Unhandled error."+(i?" ("+i.message+")":""));throw l.context=i,l}var o=r[e];if(void 0===o)return!1;if("function"==typeof o)s(o,this,t);else for(var c=o.length,d=arrayClone(o,c),n=0;n<c;++n)s(d[n],this,t);return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,a,r,i;if(checkListener(t),void 0===(s=this._events)||void 0===(n=s[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){i=n[r].listener,a=r;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(s[e]=n[0]),void 0!==s.removeListener&&this.emit("removeListener",e,i||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(e){var t,n,s;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var a,r=Object.keys(n);for(s=0;s<r.length;++s)"removeListener"!==(a=r[s])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},61775:function(e,t,n){var s=n(68237);e.exports=function(){return s.Date.now()}},38108:function(e,t,n){"use strict";n.d(t,{r:function(){return s.Z}});var s=n(62653)},65551:function(e,t,n){"use strict";n.d(t,{k:function(){return s.Z}});var s=n(78321)},6685:function(e,t,n){Promise.resolve().then(n.bind(n,99359))},99359:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return BootstrapPage}});var s=n(52987),a=n(71784),r=n(36213),i=n(7347),l=n(96555),o=n(9540),c=n(13854),d=n(62628),u=n(29293),m=n(65551),x=n(96396),f=n(77317),h=n(53360),v=n(87621),p=n(84525),b=n(4949),g=n(51470),y=n(31506),j=n(3861),k=n(50110),w=n(25282),T=n(7807),N=n(99409),B=n(64370),P=n(14993),C=n(93650),E=n(55272),A=n(88474),S=n(45820),L=n(70239),F=n(83978),I=n.n(F);let R={Logs:e=>"Logs:".concat(e.chain,":").concat(e.vault),Bvault2Data:e=>"vault2Data:".concat(e.chain,":").concat(e.vault),Bvault2Epochs:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0n;return t>0n?"vault2Data:epoches:".concat(e.vault,":").concat(t):""},Bvualt2PTRedeems:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t&&n.length>0?"vault2Data:epochesPTRedeems:".concat(e.vault,":").concat(t):""},Bvault2YTRewards:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t&&n.length>0?"vault2Data:epochesRewardsForYT:".concat(e.vault,":").concat(t):""},Bvault2LPBTRewards:(e,t)=>t?"vault2Data:RewardsForLPBT:".concat(e.vault,":").concat(t):"",BTPriceYt:e=>e?"btPriceYt:".concat(e):"",BTPriceUsd:e=>"btPrice:".concat(e.bt),UnderlingApy:e=>"underlingApy:".concat(e.asset)};function reFetWithBvault2(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];(0,o.iM)(R.Bvault2Data(e),R.Logs(e),...n)}var Y=n(61775),_=n.n(Y),D=n(5624),M=n(13277);async function getBvault2Epoch(e,t,n){return await n.readContract({abi:r.t9,address:e.vault,functionName:"epochInfoById",args:[t]})}async function getBvaut2Data(e){let t=(0,d.B)(e.chain),n=await (0,c.S0)({initialized:t.readContract({abi:r.t9,address:e.vault,functionName:"initialized"}),BT:t.readContract({abi:r.t9,address:e.vault,functionName:"BT"}),Points:t.readContract({abi:r.t9,address:e.vault,functionName:"points"}),bootstrapStartTime:t.readContract({abi:r.t9,address:e.vault,functionName:"bootstrapStartTime"}),bootstrapDuration:t.readContract({abi:r.t9,address:e.vault,functionName:"bootstrapDuration"}),bootstrapThreshold:t.readContract({abi:r.t9,address:e.vault,functionName:"bootstrapThreshold"}),epochIdCount:t.readContract({abi:r.t9,address:e.vault,functionName:"epochIdCount"}),totalDeposits:t.readContract({abi:r.t9,address:e.vault,functionName:"bootstrapTotalDeposits"})});return{...n,current:n.epochIdCount>0n?await getBvault2Epoch(e,n.epochIdCount,t):void 0}}function useFets_useBvualt2Data(e){return(0,o.B8)({key:R.Bvault2Data(e),fetfn:async()=>getBvaut2Data(e)})}function getBvault2EpochTimes(e){var t,n,s,a,r,i,o,d;let u=(null!==(r=null==e?void 0:null===(t=e.current)||void 0===t?void 0:t.startTime)&&void 0!==r?r:0n)*1000n,m=((null!==(i=null==e?void 0:null===(n=e.current)||void 0===n?void 0:n.startTime)&&void 0!==i?i:0n)+(null!==(o=null==e?void 0:null===(s=e.current)||void 0===s?void 0:s.duration)&&void 0!==o?o:0n))*1000n,x=m>BigInt(_()())?m-BigInt(_()()):0n,f=(null!==(d=null==e?void 0:null===(a=e.current)||void 0===a?void 0:a.duration)&&void 0!==d?d:0n)*1000n,h=f>0n?Math.round((0,c.pF)((f-x)*l.$X/f,8)):0;return{startTime:u,endTime:m,reamin:x,duration:f,progress:h}}function getBvualt2BootTimes(e){var t,n,s,a;let r=(null!==(t=null==e?void 0:e.bootstrapStartTime)&&void 0!==t?t:0n)*1000n,i=((null!==(n=null==e?void 0:e.bootstrapStartTime)&&void 0!==n?n:0n)+(null!==(s=null==e?void 0:e.bootstrapDuration)&&void 0!==s?s:0n))*1000n,o=i>BigInt(_()())?i-BigInt(_()()):0n,d=(null!==(a=null==e?void 0:e.bootstrapDuration)&&void 0!==a?a:0n)*1000n,u=d>0n?Math.round((0,c.pF)((d-o)*l.$X/d,8)):0;return{startTime:r,endTime:i,reamin:o,duration:d,progress:u}}function useBvault2Epochs(e){var t;let n=useFets_useBvualt2Data(e),s=(0,o.B8)({key:R.Bvault2Epochs(e,null===(t=n.result)||void 0===t?void 0:t.epochIdCount),initResult:[],fetfn:async()=>{let t=n.result.epochIdCount,s=(0,d.B)(e.chain),a=await Promise.all((0,c.Fv)(t).map(t=>getBvault2Epoch(e,t,s)));return a.reverse()}});return"fetching"==n.status&&(s.status="fetching"),s}async function getRewardsBy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,d.B)();return n.readContract({abi:r.T_,code:L.I,functionName:"earned",args:[e,t,(0,M.v)("1",28)]}).then(e=>e.map(e=>[e.token,e.value]))}function getPtToken(e,t){let n=(0,i.kb)(e.asset,e.chain);return{address:t,chain:[e.chain],symbol:"p".concat(n.symbol),decimals:n.decimals}}function usePtToken(e){var t;let n=useFets_useBvualt2Data(e),s=null===(t=n.result)||void 0===t?void 0:t.current;return s?getPtToken(e,s.PT):void 0}function getYtToken(e,t){let n=(0,i.kb)(e.asset,e.chain);return{address:t,chain:[e.chain],symbol:"y".concat(n.symbol),decimals:n.decimals}}function useYtToken(e){var t;let n=useFets_useBvualt2Data(e),s=null===(t=n.result)||void 0===t?void 0:t.current;return s?getYtToken(e,s.YT):void 0}function getLpToken(e){let t=(0,i.kb)(e.asset,e.chain);return{address:e.hook,symbol:"LP".concat(t.symbol),chain:[e.chain],decimals:t.decimals}}function useLogs(e){return(0,o.B8)({key:R.Logs(e),fetfn:async()=>(0,d.B)(e.chain).readContract({abi:r.T_,code:L.I,functionName:"getLog",args:[e.vault]}).catch(()=>void 0)})}function useBT2PTPrice(e){let t=useLogs(e);return(0,f.useMemo)(()=>({...t,result:calcBt2PtPrice(t.result,0n,0n)}),[t.result])}function calcBt2PtPrice(e,t,n){if(!e)return 0;let s=(0,c.pF)(e.rateScalar,18),a=(0,c.pF)(e.rateAnchor,18),r=(0,c.pF)(e.vPT+t,18),i=(0,c.pF)(e.BTtp+n,18),l=r+i>0?r/(r+i):0;return s>0&&1-l!=0?1/s*Math.log(l/(1-l))+a:0}function calcYt2BtPrice(e){return e<=1?0:(e-1)/e}function useEpochRemain(e){var t;let n=useFets_useBvualt2Data(e),s=null===(t=n.result)||void 0===t?void 0:t.current,a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=(0,f.useRef)((0,c.M_)());return(0,c.M_)()-t.current>e&&(t.current=(0,c.M_)()),t.current}(),r=parseInt((s&&s.startTime+s.duration>a?s.startTime+s.duration-a:0n).toString());return{...n,result:r}}function usePTApy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0n,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0n,{result:s}=useBT2PTPrice(e),{result:a}=useLogs(e),{result:r}=useEpochRemain(e),i=r/31536e3,l=i>0&&s>0?I().round(Math.pow(s,1/i)-1,5):0;console.info("ptapy:",s,i,l);let o=l,c=0;if(0n!=t&&0n!=n&&a){let e=calcBt2PtPrice(a,t,n);c=Math.abs(e-s)/s,o=i>0?I().round(Math.pow(e,1/i)-1,5):0}return[l,o,c]}function useYTPriceBt(e){let t=useBT2PTPrice(e);return{...t,result:calcYt2BtPrice(t.result)}}function useUnderlingApy(e){return(0,o.B8)({key:R.UnderlingApy(e),initResult:1.07,fetfn:async()=>1.07})}function useYTRoi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0n,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0n,{result:s}=useLogs(e),{result:a}=(0,o.B8)({key:R.BTPriceUsd(e),initResult:1,fetfn:async()=>1}),{result:r}=useYTPriceBt(e),i=a*r,{result:l}=useUnderlingApy(e),{result:c}=useEpochRemain(e),d=l*c/31536e3,u=0!=i?I().round(d/i-1,5):0,m=u,x=0;if(0n!=t&&0n!=n&&s){let e=calcBt2PtPrice(s,t,n);if(0!=e){let t=calcYt2BtPrice(e),n=a*t;m=0!=n?I().round(d/n-1,5):0,x=r>0&&t>0?Math.abs(t-r)/r:0}}return console.info("ytRoi:",r,i,d,u,m),[u,m,x]}function useLpShare(e,t){let n=getLpToken(e),s=(0,p.A5)(n),a=(0,p.KQ)(n),r=s.result>0?I().round((0,c.pF)(a.result,n.decimals)/(0,c.pF)(s.result,n.decimals),5):0,i=0n!=t?s.result+t>0n?I().round((0,c.pF)(a.result+t,n.decimals)/(0,c.pF)(s.result+t,n.decimals),5):0:r;return[r,i]}async function wrapToBT(e){let{chainId:t,bt:n,token:s,inputBn:a,user:i}=e,l=[],o=a;return(0,E.E)(n,s)||(o=await (0,d.B)(t).readContract({abi:r.Pq,address:n,functionName:"previewDeposit",args:[s,a]}),l=await (0,b.Rb)({approves:[{token:s,spender:n,amount:a}],user:i,pc:(0,d.B)(t),tx:{abi:r.Pq,address:n,functionName:"deposit",args:[i,s,a,99n*o/100n]}})),{txs:l,sharesBn:o}}async function unwrapBT(e){let{chainId:t,bt:n,token:s,btShareBn:a,user:i}=e;if(!(0,E.E)(s,n)){let e=await (0,d.B)(t).readContract({abi:r.Pq,address:n,functionName:"previewRedeem",args:[s,a]});return[{abi:r.Pq,address:n,functionName:"redeem",args:[i,a,s,99n*e/100n]}]}return[]}function useWrapBtTokens(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,o.B8)({key:"btInputs".concat(e.bt),initResult:[e.asset],fetfn:async()=>(0,d.B)(e.chain).readContract({abi:r.Pq,address:e.bt,functionName:"getTokensIn"})});return(0,f.useMemo)(()=>[...n.result,e.bt].map(t=>(0,i.kb)(t,e.chain)).filter(n=>!!t||!(0,E.E)(n.address,e.bt)),[e,t,JSON.stringify(n.result)])}function BT(e){let{vc:t}=e,n=(0,N.pK)(),a=(0,i.kb)(t.asset,n),l=(0,i.kb)(t.bt,n),{data:m}=(0,A.p)(),x=useWrapBtTokens(t,!1),[h,j]=(0,f.useState)(x[0]),{address:w}=(0,v.m)(),T=(0,p.KQ)(a),E=(0,p.KQ)(l),L=(0,p.A5)(l),[F,I]=(0,f.useState)(""),R=(0,c.su)(F),[Y,_]=(0,P.Z)(!1),D=Y?l:h,M=Y?h:l,[K,O]=(0,f.useState)(["calcBTSwapOut"]);(0,C.Z)(()=>O(["calcBTSwapOut",Y,R,D]),300,[Y,R,D]);let{data:q,isFetching:W}=(0,B.a)({queryKey:K,initialData:0n,queryFn:async()=>K.length<=1?0n:(0,d.B)().readContract({abi:r.Pq,address:t.bt,functionName:Y?"previewRedeem":"previewDeposit",args:[D.address,R]}).catch(()=>R)}),getTxs=async()=>{if(Y){let e=await unwrapBT({chainId:t.chain,bt:t.bt,token:h.address,btShareBn:R,user:w});return[...e]}{let e=await wrapToBT({chainId:t.chain,bt:t.bt,token:h.address,inputBn:R,user:w});return[...e.txs]}},{result:V}=useUnderlingApy(t);return(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,s.jsxs)("div",{className:"card !p-0 overflow-hidden w-full",children:[(0,s.jsxs)("div",{className:"flex p-5 bg-[#E8E8FD] gap-5",children:[(0,s.jsx)(y.c,{size:48,symbol:l.symbol}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"text-xl leading-6 text-black dark:text-white font-semibold",children:l.symbol}),(0,s.jsxs)("div",{className:"text-xs leading-none text-black/60 dark:text-white/60 font-medium",children:[l.symbol," is a 1:1 wrapped version of the ",a.symbol]})]})]}),(0,s.jsxs)("div",{className:"flex whitespace-nowrap items-baseline justify-between px-2.5 pt-2 gap-2.5",children:[(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,c.T3)(V)}),(0,s.jsx)("div",{className:"text-xs font-semibold opacity-60",children:"Underlying APY"}),(0,s.jsx)("div",{className:"text-xs font-semibold opacity-60 ml-auto",children:"Circulation amount"}),(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,u.d)(L.result,void 0,l.decimals)})]}),(0,s.jsx)("div",{className:"flex px-2.5 pb-4",children:(0,s.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2",onClick:()=>{null==m||m.watchAsset({type:"ERC20",options:l}).catch(c.S3)},children:"Add to wallet"})})]}),(0,s.jsxs)("div",{className:"card !p-4 flex flex-col gap-1",children:[(0,s.jsx)(k.r,{tokens:Y?[l]:x,amount:F,setAmount:I,onTokenChange:e=>!Y&&j(e)}),(0,s.jsx)(S.HY,{onClick:()=>{_()}}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold",children:"Receive"}),(0,s.jsx)(g.x,{address:a.address})]}),(0,s.jsx)(k.r,{disable:!0,tokens:Y?x:[l],loading:W&&R>0n,amount:(0,c.Kl)(q,M.decimals),onTokenChange:e=>Y&&j(e)}),(0,s.jsx)(b.$M,{className:"mx-auto mt-4",tx:Y?"Unwrap":"Wrap",disabled:R<=0n,txs:getTxs,onTxSuccess:()=>{I(""),(0,o.iM)(T.key,E.key,L.key)}})]})]})}var K=n(93422),O=n(39809),q=n(11877),W=n(97154);function LPAdd(e){let{vc:t}=e,{address:n}=(0,v.m)(),a=(0,i.kb)(t.asset,t.chain),l=getLpToken(t),o=(0,p.A5)(l),u=usePtToken(t),m=useYtToken(t),x=(0,p.A5)(u),h=(0,p.A5)(m),y=x.result>=h.result?u:m,[j,k]=(0,P.Z)(!0),[w,T]=(0,f.useState)(""),N=(0,c.su)(w),E=(0,i.kb)(t.bt,t.chain),A=(0,p.KQ)(E),[F,I]=(0,f.useState)(["calcLPAddOut"]);(0,C.Z)(()=>I(["calcLPAddOut",N,j]),300,[N,j]);let{data:{ptAmount:R,ytAmount:Y,lpAmount:_,bestBt1:D},isFetching:M}=(0,B.a)({queryKey:F,initialData:{ptAmount:0n,ytAmount:0n,lpAmount:0n,bestBt1:0n},queryFn:async e=>{let n=0n,s=0n,a=0n,i=N,l=(0,d.B)(t.chain);return N>0n&&e.queryKey.length>1&&(j?[i,a]=await l.readContract({abi:r.T_,code:L.I,functionName:"quoteAddLPInstant",args:[t.vault,N,5n]}):[n,s,a]=await l.readContract({abi:r.T_,code:L.I,functionName:"calcAddLP",args:[t.vault,N]}),console.info("calcLPAddOut",j,(0,c.Kl)(n,18),(0,c.Kl)(s,18),(0,c.Kl)(a,18),(0,c.Kl)(i,18))),{ptAmount:n,ytAmount:s,lpAmount:a,bestBt1:i}}}),q=x.result>=h.result?R:Y,[V,Z]=useLpShare(t,_);return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(O.W,{asset:E.symbol,amount:w,balance:A.result,setAmount:T}),(0,s.jsx)(S.JK,{}),(0,s.jsxs)("div",{className:"flex gap-5 items-center text-xs font-medium",children:[(0,s.jsx)("span",{children:"Instant mode"}),(0,s.jsx)(W.V,{checked:j,onChange:k})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold",children:"Receive"}),(0,s.jsx)(g.x,{address:a.address})]}),(0,s.jsx)(O.W,{asset:l.symbol,disable:!0,amount:(0,c.Kl)(_,l.decimals),loading:M&&N>0n}),!j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-center opacity-60 text-xs font-medium",children:"And"}),(0,s.jsx)(O.W,{asset:y.symbol,disable:!0,amount:(0,c.Kl)(q,y.decimals),loading:M&&N>0n})]}),(0,s.jsxs)("div",{className:"font-medium text-xs opacity-60",children:["Pool Share Change: ",(0,c.T3)(V)," → ",(0,c.T3)(Z)]}),(0,s.jsx)(b.$M,{className:"mx-auto mt-4",tx:"Add",disabled:N<=0n||N>A.result||j&&0n==D,txs:()=>(0,b.Rb)({approves:[{spender:t.vault,token:E.address,amount:N}],user:n,pc:(0,d.B)(t.chain),tx:{abi:r.t9,address:t.vault,functionName:j?"addLiquidityInstant":"addLiquidity",args:j?[N,D,(0,c.by)()]:[N,(0,c.by)()]}}),onTxSuccess:()=>{(0,K.nd)(t,n,"LPAdd:(".concat((0,c.Kl)(N),")")),T(""),reFetWithBvault2(t,x.key,h.key,o.key,A.key)}})]})}function LPRemove(e){let{vc:t}=e,{address:n}=(0,v.m)(),a=(0,i.kb)(t.asset,t.chain),l=(0,i.kb)(t.bt,t.chain),o=getLpToken(t),u=(0,p.A5)(o),m=usePtToken(t),x=useYtToken(t),h=(0,p.A5)(m),y=(0,p.A5)(x),[j,k]=(0,P.Z)(!1),[w,T]=(0,f.useState)(""),N=(0,c.su)(w),E=(0,p.KQ)(o),A=h.result>=y.result?x:m,[F,I]=(0,f.useState)(["calcLPRemoveOut"]);(0,C.Z)(()=>I(["calcLPRemoveOut",N]),300,[N]);let{data:[R,Y,_],isFetching:D}=(0,B.a)({queryKey:F,initialData:[0n,0n,0n],queryFn:async()=>N<=0n||F.length<=1?[0n,0n,0n]:(0,d.B)().readContract({abi:r.T_,code:L.I,functionName:"calcRemoveLP",args:[t.vault,N]})}),M=h.result>=y.result?_:Y,[q,W]=useLpShare(t,-N);return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(O.W,{asset:o.symbol,amount:w,balance:E.result,setAmount:T}),(0,s.jsx)(S.JK,{}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold",children:"Receive"}),(0,s.jsx)(g.x,{address:a.address})]}),(0,s.jsx)(O.W,{asset:l.symbol,disable:!0,amount:(0,c.Kl)(R,o.decimals),loading:D&&N>0n}),(0,s.jsx)("div",{className:"text-center opacity-60 text-xs font-medium",children:"And"}),(0,s.jsx)(O.W,{asset:A.symbol,disable:!0,amount:(0,c.Kl)(M,A.decimals),loading:D&&N>0n}),(0,s.jsxs)("div",{className:"font-medium text-xs opacity-60",children:["Pool Share Change: ",(0,c.T3)(q)," → ",(0,c.T3)(W)]}),(0,s.jsx)(b.$M,{className:"mx-auto mt-4",tx:"Remove",disabled:N<=0n||N>E.result,txs:()=>(0,b.Rb)({approves:[{spender:t.vault,token:o.address,amount:N}],user:n,pc:(0,d.B)(t.chain),tx:{abi:r.t9,address:t.vault,functionName:"removeLiquidity",args:[N,0n,(0,c.by)()]}}),onTxSuccess:()=>{(0,K.nd)(t,n,"LPRemove:(".concat((0,c.Kl)(N),")")),T(""),reFetWithBvault2(t,h.key,y.key,u.key,E.key)}})]})}function LP(e){var t;let{vc:n}=e,a=(0,i.kb)(n.bt,n.chain),r=getLpToken(n),l=(0,p.A5)(r),o=usePtToken(n),d=useYtToken(n),{data:m}=(0,A.p)(),{result:x}=useLogs(n),f=(0,p.A5)(o),h=(0,p.A5)(d),v=function(e){var t,n;let{result:s}=useUnderlingApy(e),{result:a}=useLogs(e),r=(0,N.pK)(),l=(0,i.kb)(e.asset,r),o=(0,c.pF)(null!==(t=null==a?void 0:a.BTnet)&&void 0!==t?t:0n,l.decimals),d=(0,c.pF)(null!==(n=null==a?void 0:a.BTtp)&&void 0!==n?n:0n,l.decimals),u=usePtToken(e),m=useYtToken(e),x=(0,p.A5)(u),f=(0,p.A5)(m),h=f.result>x.result?(0,c.pF)(f.result-x.result,l.decimals):0,v=x.result>f.result?(0,c.pF)(x.result-f.result,l.decimals):0,{result:b}=useBT2PTPrice(e),g=b>0?1/b:0,y=calcYt2BtPrice(b),{result:j}=useEpochRemain(e),k=o+h*g+v*y;return k>0&&j>0?(s*j*d/31536e3+(1-g)*h-v*y)/k*(31536e3/j):0}(n);return(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,s.jsxs)("div",{className:"card !p-0 overflow-hidden w-full",children:[(0,s.jsxs)("div",{className:"flex p-5 bg-[#E8E8FD] gap-5",children:[(0,s.jsx)(y.c,{size:48,symbol:r.symbol}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"text-xl leading-6 text-black dark:text-white font-semibold",children:r.symbol}),(0,s.jsx)("div",{className:"text-xs leading-none text-black/60 dark:text-white/60 font-medium",children:"Provides liquidity for PT and YT transactions."})]})]}),(0,s.jsxs)("div",{className:"flex whitespace-nowrap items-baseline justify-between px-2.5 pt-2 gap-2.5",children:[(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,c.T3)(v)}),(0,s.jsx)("div",{className:"text-xs font-semibold opacity-60",children:"APY"}),(0,s.jsx)("div",{className:"text-xs font-semibold opacity-60 ml-auto",children:"LP amount"}),(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,u.d)(l.result)})]}),(0,s.jsx)("div",{className:"flex px-2.5",children:(0,s.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2",onClick:()=>{null==m||m.watchAsset({type:"ERC20",options:r}).catch(c.S3)},children:"Add to wallet"})}),(0,s.jsxs)("div",{className:"pb-4 px-3 text-xs flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"opacity-60",children:"LP Positions"}),(0,s.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,s.jsx)(q.T,{token:a,amount:null!==(t=null==x?void 0:x.BTnet)&&void 0!==t?t:0n}),(0,s.jsx)(q.T,{token:o,amount:h.result>f.result?h.result-f.result:0n}),(0,s.jsx)(q.T,{token:d,amount:f.result>h.result?f.result-h.result:0n})]})]})]}),(0,s.jsx)("div",{className:"card !p-4",children:(0,s.jsx)(j.x,{listClassName:"p-0 gap-6 mb-4",triggerClassName:'text-base font-bold leading-none data-[state="active"]:text-black',data:[{tab:"Add",content:(0,s.jsx)(LPAdd,{vc:n})},{tab:"Remove",content:(0,s.jsx)(LPRemove,{vc:n})}]})})]})}function Fees(e){let{fees:t}=e,n=t.reduce((e,t)=>e+t.value,0);return(0,s.jsxs)("div",{className:"flex gap-2 text-xs font-medium leading-none",children:["Fees:",(0,s.jsx)(w.C,{className:"underline underline-offset-2",node:"$".concat(I().round(n,3)),children:t.map(e=>"".concat(e.name,": ").concat(I().round(e.value,3))).join("\n\r")})]})}function PTSwap(e){let{vc:t}=e,{address:n}=(0,v.m)(),a=(0,i.kb)(t.bt,t.chain),l=usePtToken(t),[o,u]=(0,f.useState)(""),m=(0,c.su)(o),[x,h]=(0,P.Z)(!1),y=useWrapBtTokens(t),[j,w]=(0,f.useState)(y[0]),T=x?[l]:y,N=x?y:[l],A=x?l:j,L=x?j:l,F=(0,p.KQ)(A),R=(0,p.KQ)(L),{result:Y}=useBT2PTPrice(t),_=x?I().round(1/Y,2):I().round(Y,2),D="1 ".concat(A.symbol," = ").concat(_," ").concat(L.symbol),[M,O]=(0,f.useState)(["calcPTSwapOut"]);(0,C.Z)(()=>O(["calcPTSwapOut",x,m,A,L]),300,[x,m,A,L]);let{data:q,isFetching:W}=(0,B.a)({queryKey:M,initialData:0n,queryFn:async e=>{if(m<=0n||1==e.queryKey.length)return 0n;let n=(0,d.B)(t.chain);if(x){let e=await n.readContract({abi:r.t9,address:t.vault,functionName:"quoteExactPTforBT",args:[m]});return(0,E.E)(t.bt,L.address)?e:n.readContract({abi:r.Pq,address:t.bt,functionName:"previewRedeem",args:[L.address,e]})}{let e=(0,E.E)(t.bt,A.address)?m:await n.readContract({abi:r.Pq,address:t.bt,functionName:"previewDeposit",args:[A.address,m]});return n.readContract({abi:r.t9,address:t.vault,functionName:"quoteExactBTforPT",args:[e]})}}}),V=!W&&m>0&&0n==q?"Market liquidity is insufficient":"",[Z,z,U]=usePTApy(t,x?m:-q,x?-q:m),getTxs=async()=>{if(x){let e=await (0,b.Rb)({approves:[{spender:t.vault,token:A.address,amount:m}],pc:(0,d.B)(t.chain),user:n,tx:{abi:r.t9,address:t.vault,functionName:"swapExactPTforBT",args:[m,0n,(0,c.by)()]}}),s=await unwrapBT({chainId:t.chain,bt:t.bt,btShareBn:q,token:L.address,user:n});return[...e,...s]}{let e=await wrapToBT({chainId:t.chain,bt:t.bt,inputBn:m,token:A.address,user:n}),s=await (0,b.Rb)({approves:[{spender:t.vault,token:t.bt,amount:e.sharesBn}],pc:(0,d.B)(t.chain),user:n,tx:{abi:r.t9,address:t.vault,functionName:"swapExactBTforPT",args:[e.sharesBn,0n,(0,c.by)()]}});return[...e.txs,...s]}};return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(k.r,{tokens:T,onTokenChange:e=>!x&&w(e),amount:o,setAmount:u,error:V}),(0,s.jsx)(S.HY,{onClick:()=>{h()}}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold",children:"Receive"}),(0,s.jsx)(g.x,{address:a.address})]}),(0,s.jsx)(k.r,{tokens:N,checkBalance:!1,balance:!1,onTokenChange:e=>x&&w(e),disable:!0,amount:(0,c.Kl)(q,L.decimals),loading:W&&m>0n}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs font-medium",children:[(0,s.jsxs)("div",{children:["Price: ",D]}),(0,s.jsxs)("div",{children:["Price Impact: ",(0,c.T3)(U)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs font-medium opacity-60",children:[(0,s.jsxs)("div",{children:["Implied APY Change: ",(0,c.T3)(Z)," → ",(0,c.T3)(z)]}),(0,s.jsx)(Fees,{fees:[{name:"Transaction Fees",value:1.2},{name:"Unstake Fees(Verio)",value:1.2}]})]}),(0,s.jsx)(b.$M,{className:"mx-auto mt-4",tx:"Swap",disabled:m<=0n||m>F.result,txs:getTxs,onTxSuccess:()=>{(0,K.nd)(t,n,"PTSwap:".concat(x?"PT->BT":"BT->PT",":(").concat((0,c.Kl)(m),")")),u(""),reFetWithBvault2(t,F.key,R.key)}})]})}function PTYTMint(e){let{vc:t}=e,{address:n}=(0,v.m)(),a=usePtToken(t),l=useYtToken(t),o=(0,i.kb)(t.bt,t.chain),u=useWrapBtTokens(t),[m,x]=(0,f.useState)(u[0]),h=(0,p.KQ)(m),y=(0,p.KQ)(a),j=(0,p.KQ)(l),[w,T]=(0,f.useState)(""),N=(0,c.su)(w,m.decimals),[P,A]=(0,f.useState)(["calcPTYTMintOut"]);(0,C.Z)(()=>A(["calcPTYTMintOut",N,m]),300,[N,m]);let{data:L,isFetching:F}=(0,B.a)({queryKey:P,initialData:0n,queryFn:async e=>{if(N<=0n||1==e.queryKey.length)return 0n;let n=(0,d.B)(t.chain),s=(0,E.E)(t.bt,m.address)?N:await n.readContract({abi:r.Pq,address:t.bt,functionName:"previewDeposit",args:[m.address,N]});return s}}),txs=async()=>{if(!n)return[];let e=await wrapToBT({chainId:t.chain,bt:t.bt,inputBn:N,token:m.address,user:n}),s=await (0,b.Rb)({approves:[{spender:t.vault,token:t.bt,amount:e.sharesBn}],pc:(0,d.B)(t.chain),user:n,tx:{abi:r.t9,address:t.vault,functionName:"mintPTandYT",args:[e.sharesBn]}});return[...e.txs,...s]};return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(k.r,{tokens:u,onTokenChange:x,amount:w,setAmount:T}),(0,s.jsx)(S.JK,{}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold",children:"Receive"}),(0,s.jsx)(g.x,{address:t.asset})]}),(0,s.jsx)(O.W,{asset:a.symbol,disable:!0,amount:(0,c.Kl)(L,o.decimals),loading:F}),(0,s.jsx)("div",{className:"text-center opacity-60 text-xs font-medium",children:"And"}),(0,s.jsx)(O.W,{asset:l.symbol,disable:!0,amount:(0,c.Kl)(L,o.decimals),loading:F}),(0,s.jsx)(b.$M,{className:"mx-auto mt-4",tx:"Mint",disabled:N<=0n||N>h.result,txs:txs,onTxSuccess:()=>{(0,K.nd)(t,n,"PTYTMint:(".concat((0,c.Kl)(N),")")),T(""),reFetWithBvault2(t,h.key,y.key,j.key)}})]})}function PTYTRedeem(e){let{vc:t}=e,{address:n}=(0,v.m)(),a=useWrapBtTokens(t),[i,l]=(0,f.useState)(a[0]),o=usePtToken(t),u=useYtToken(t),m=(0,p.KQ)(o),x=(0,p.KQ)(u),h=(0,p.KQ)(i),[y,j]=(0,f.useState)(""),w=(0,c.su)(y),[T,N]=(0,f.useState)(["calcPTYTRedeemOut"]);(0,C.Z)(()=>N(["calcPTYTRedeemOut",w,i]),300,[w,y]);let{data:P,isFetching:A}=(0,B.a)({queryKey:T,initialData:0n,queryFn:async()=>{if(w<=0n||1==N.length)return 0n;let e=(0,d.B)(t.chain),n=(0,E.E)(t.bt,i.address)?w:await e.readContract({abi:r.Pq,address:t.bt,functionName:"previewRedeem",args:[i.address,w]});return n}}),getTxs=async()=>{let e=[{abi:r.t9,address:t.vault,functionName:"redeemByPTandYT",args:[w]}],s=await unwrapBT({chainId:t.chain,bt:t.bt,btShareBn:P,token:i.address,user:n});return[...e,...s]};return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(O.W,{asset:o.symbol,amount:y,balance:m.result,setAmount:j}),(0,s.jsx)("div",{className:"text-center opacity-60 text-xs font-medium",children:"And"}),(0,s.jsx)(O.W,{asset:u.symbol,amount:y,balance:x.result,setAmount:j}),(0,s.jsx)(S.JK,{}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold",children:"Receive"}),(0,s.jsx)(g.x,{address:t.asset})]}),(0,s.jsx)(k.r,{tokens:a,onTokenChange:l,disable:!0,amount:(0,c.Kl)(P,i.decimals),loading:A&&w>0n}),(0,s.jsx)(b.$M,{className:"mx-auto mt-4",tx:"Redeem",disabled:w<=0n||w<m.result||w<x.result,txs:getTxs,onTxSuccess:()=>{(0,K.nd)(t,n,"PTYTRedeem:(".concat((0,c.Kl)(w),")")),j(""),reFetWithBvault2(t,m.key,x.key,h.key)}})]})}function PT(e){let{vc:t}=e,n=(0,i.kb)(t.asset,t.chain),a=usePtToken(t),r=(0,p.A5)(a),{data:l}=(0,A.p)();console.info("PT:");let[o]=usePTApy(t);return(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,s.jsxs)("div",{className:"card !p-0 overflow-hidden w-full",children:[(0,s.jsxs)("div",{className:"flex p-5 bg-[#10B98126] gap-5",children:[(0,s.jsx)(y.c,{size:48,symbol:"PToken"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"text-xl leading-6 text-black dark:text-white font-semibold",children:a.symbol}),(0,s.jsxs)("div",{className:"text-xs leading-none text-black/60 dark:text-white/60 font-medium",children:["1 ",a.symbol," is equal to1 ",n.symbol,"\xa0at maturity"]})]})]}),(0,s.jsxs)("div",{className:"flex whitespace-nowrap items-baseline justify-between px-2.5 pt-2 gap-2.5",children:[(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,c.T3)(o)}),(0,s.jsx)("div",{className:"text-xs font-semibold opacity-60",children:"Fixed APY"}),(0,s.jsx)("div",{className:"text-xs font-semibold opacity-60 ml-auto",children:"Circulation amount"}),(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,u.d)(r.result,void 0,a.decimals)})]}),(0,s.jsx)("div",{className:"flex px-2 pb-4",children:(0,s.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2",onClick:()=>{null==l||l.watchAsset({type:"ERC20",options:a}).catch(c.S3)},children:"Add to wallet"})})]}),(0,s.jsx)("div",{className:"card !p-4",children:(0,s.jsx)(j.x,{listClassName:"p-0 gap-6 mb-4",triggerClassName:'text-base font-bold leading-none data-[state="active"]:text-black',data:[{tab:"Swap",content:(0,s.jsx)(PTSwap,{vc:t})},{tab:"Mint",content:(0,s.jsx)(PTYTMint,{vc:t})},{tab:"Redeem",content:(0,s.jsx)(PTYTRedeem,{vc:t})}]})})]})}var V=n(29332);function YTSwap(e){let{vc:t}=e,{address:n}=(0,v.m)(),a=useYtToken(t),i=(0,p.KQ)(a),[l,o]=(0,f.useState)(""),u=(0,c.su)(l),[m,x]=(0,P.Z)(!1),h=useWrapBtTokens(t),[y,j]=(0,f.useState)(h[0]),w=m?[a]:h,T=m?h:[a],N=m?a:y,A=m?y:a,F=(0,p.KQ)(N),{result:R}=useYTPriceBt(t),Y=I().round(m?R:R>0?1/R:0,2),_="1 ".concat(N.symbol," = ").concat(Y," ").concat(A.symbol),[D,O]=(0,f.useState)(["calcYTSwapOut"]);(0,C.Z)(()=>O(["calcYTSwapOut",m,u,N,A]),300,[m,u,N,A]);let{data:[q,W,Z],isFetching:z}=(0,B.a)({queryKey:D,retry:0,initialData:[0n,0n,0n],queryFn:async()=>{if(u<=0n)return[0n,0n,0n];let e=(0,d.B)(t.chain);if(m){let n=await e.readContract({abi:r.t9,address:t.vault,functionName:"quoteExactYTforBT",args:[u]});return(0,E.E)(A.address,t.bt)||(n=await e.readContract({abi:r.Pq,address:t.bt,functionName:"previewRedeem",args:[A.address,n]})),[n,0n,0n]}{let n=u;(0,E.E)(N.address,t.bt)||(n=await e.readContract({abi:r.Pq,address:t.bt,functionName:"previewDeposit",args:[N.address,u]}));let[s,a]=await e.readContract({abi:r.T_,code:L.I,functionName:"calcBT1ForSwapBTForYT",args:[t.hook,n,(0,M.v)("0.02",18)]}).catch(()=>[0n,0n]);if(console.info("calcBT1:",(0,V.d)(s),a),0n==s)return[0n,0n,0n];let[i,l]=await Promise.all([e.readContract({abi:r.t9,address:t.vault,functionName:"quoteBTforExactYT",args:[n,s]}),e.readContract({abi:r.c1,address:t.hook,functionName:"getAmountOutVPTToBT",args:[s]})]);return[s,s,l]}}}),U=!z&&D.includes(u)&&u>0&&0n==q?"Market liquidity is insufficient":"",[$,G,Q]=useYTRoi(t,m?-u:W,m?u-q:-Z),[H,J]=usePTApy(t,m?-u:W,m?u-q:-Z),getTxs=async()=>{if(m){let e=await (0,b.Rb)({approves:[{spender:t.vault,token:N.address,amount:u}],pc:(0,d.B)(t.chain),user:n,tx:{abi:r.t9,address:t.vault,functionName:"swapExactYTforBT",args:[u,0n,(0,c.by)()]}}),s=await unwrapBT({chainId:t.chain,bt:t.bt,btShareBn:q,token:A.address,user:n});return[...e,...s]}{let{txs:e,sharesBn:s}=await wrapToBT({chainId:t.chain,bt:t.bt,token:N.address,inputBn:u,user:n}),a=await (0,b.Rb)({approves:[{spender:t.vault,token:t.bt,amount:s}],pc:(0,d.B)(t.chain),user:n,tx:{abi:r.t9,address:t.vault,functionName:"swapBTforExactYT",args:[s,W,(0,c.by)()]}});return[...e,...a]}};return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(k.r,{tokens:w,onTokenChange:e=>!m&&j(e),amount:l,setAmount:o,error:U}),(0,s.jsx)(S.HY,{onClick:()=>{x()}}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold",children:"Receive"}),(0,s.jsx)(g.x,{address:t.asset})]}),(0,s.jsx)(k.r,{tokens:T,onTokenChange:e=>m&&j(e),checkBalance:!1,balance:!1,disable:!0,amount:(0,c.Kl)(q,A.decimals),loading:z}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs font-medium",children:[(0,s.jsxs)("div",{children:["Price: ",_]}),(0,s.jsxs)("div",{children:["Price Impact: ",(0,c.T3)(Q)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs font-medium opacity-60",children:[(0,s.jsxs)("div",{children:["Est. ROI Change:   ",(0,c.T3)($)," → ",(0,c.T3)(G),(0,s.jsx)("br",{}),"Implied APY Change: ",(0,c.T3)(H)," → ",(0,c.T3)(J)]}),(0,s.jsx)(Fees,{fees:[{name:"Transaction Fees",value:1.2},{name:"Unstake Fees(Verio)",value:1.2}]})]}),(0,s.jsx)(b.$M,{className:"mx-auto mt-4",tx:"Swap",disabled:z||u<=0n||u>F.result||!m&&0n==W,txs:getTxs,onTxSuccess:()=>{(0,K.nd)(t,n,m?"YTSwap:YT->BT:(".concat((0,c.Kl)(u),")"):"YTSwap:BT->YT:(".concat((0,c.Kl)(u),", bt1:").concat((0,c.Kl)(W),")")),o(""),reFetWithBvault2(t,i.key,F.key)}})]})}function YT(e){let{vc:t}=e,n=(0,i.kb)(t.asset,t.chain),a=useYtToken(t),r=(0,p.A5)(a),{data:l}=(0,A.p)(),[o]=useYTRoi(t);return(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,s.jsxs)("div",{className:"card !p-0 overflow-hidden w-full",children:[(0,s.jsxs)("div",{className:"flex p-5 bg-[#E8E8FD] gap-5",children:[(0,s.jsx)(y.c,{size:48,symbol:"YToken"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"text-xl leading-6 text-black dark:text-white font-semibold",children:a.symbol}),(0,s.jsxs)("div",{className:"text-xs leading-none text-black/60 dark:text-white/60 font-medium",children:["1 ",a.symbol," gets the\xa0yield of 1 ",n.symbol,"\xa0until maturity"]})]})]}),(0,s.jsxs)("div",{className:"flex whitespace-nowrap items-baseline justify-between px-2.5 pt-2 gap-2.5",children:[(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,c.T3)(o)}),(0,s.jsxs)("div",{className:"text-xs font-semibold opacity-60",children:["Est.ROI ",(0,s.jsx)(w.C,{children:"If underlying APY remains unchanged from now on"})]}),(0,s.jsx)("div",{className:"text-xs font-semibold opacity-60 ml-auto",children:"Circulation amount"}),(0,s.jsx)("div",{className:"text-lg font-medium",children:(0,u.d)(r.result,void 0,a.decimals)})]}),(0,s.jsx)("div",{className:"flex px-2 pb-4",children:(0,s.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2",onClick:()=>{null==l||l.watchAsset({type:"ERC20",options:a}).catch(c.S3)},children:"Add to wallet"})})]}),(0,s.jsx)("div",{className:"card !p-4",children:(0,s.jsx)(j.x,{listClassName:"p-0 gap-6 mb-4",triggerClassName:'text-base font-bold leading-none data-[state="active"]:text-black',data:[{tab:"Swap",content:(0,s.jsx)(YTSwap,{vc:t})},{tab:"Mint",content:(0,s.jsx)(PTYTMint,{vc:t})},{tab:"Redeem",content:(0,s.jsx)(PTYTRedeem,{vc:t})}]})})]})}function BVault2Bootstrap(e){var t,n,a;let{vc:i}=e,x=useWrapBtTokens(i),[j,T]=(0,f.useState)(x[0]),N=(0,p.KQ)(j),[B,P]=(0,f.useState)(""),C=(0,c.su)(B),E=useFets_useBvualt2Data(i),A=E.result,S=null!==(t=null==A?void 0:A.initialized)&&void 0!==t&&t,L=null!==(n=null==A?void 0:A.bootstrapThreshold)&&void 0!==n?n:0n,F=null!==(a=null==A?void 0:A.totalDeposits)&&void 0!==a?a:0n,{endTime:I}=getBvualt2BootTimes(A),R=Math.round((0,c.pF)(L>0n?F>=L?l.Pq:F*l.Pq/L:0n,16)),Y=getLpToken(i),_=(0,p.KQ)(Y),{address:D}=(0,v.m)(),getTxs=async()=>{let{txs:e,sharesBn:t}=await wrapToBT({chainId:i.chain,bt:i.bt,token:j.address,inputBn:C,user:D}),n=await (0,b.Rb)({approves:[{spender:i.vault,token:i.bt,amount:t}],pc:(0,d.B)(i.chain),user:D,tx:{abi:r.t9,address:i.vault,functionName:"addLiquidity",args:[t,(0,c.by)()]}});return[...e,...n]};return(0,s.jsxs)("div",{className:"card bg-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xl font-medium",children:[(0,s.jsx)(h.RSW,{className:"text-[#ff0000]"}),i.tit,(0,s.jsx)(w.C,{children:"Verio is the liquid staking and IP asset restaking platform for Story. Users stake IP to receive vIP, a yield bearing LSD. vIP can be restaked on multiple IP Assets to earn profits, while YT holders can leverage profits through the vIP-Verio Vault."})]}),(0,s.jsxs)("div",{className:"flex flex-col h-auto lg:flex-row lg:h-[13.75rem] gap-8",children:[(0,s.jsxs)("div",{className:"flex-1 w-full lg:w-0 h-full flex flex-col pt-5",children:[(0,s.jsx)(k.r,{tokens:x,amount:B,setAmount:P,onTokenChange:T}),(0,s.jsx)(g.x,{address:i.asset}),(0,s.jsx)(b.$M,{className:"mx-auto mt-auto",tx:"Deposit",disabled:!S||C<=0n||C>N.result,txs:getTxs,onTxSuccess:()=>{P(""),(0,o.iM)(N.key,E.key)}})]}),(0,s.jsx)("div",{className:"shrink-0 self-center h-[1px] w-[calc(100%-1.25em)] lg:mx-10 lg:w-[1px] lg:h-[calc(100%-1.25em)] bg-[#E4E4E7]"}),(0,s.jsxs)("div",{className:"flex-1 w-full lg:w-0 h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"font-semibold text-sm justify-between flex items-center",children:[(0,s.jsx)("div",{children:"Bootstrap"}),(0,s.jsx)("div",{children:"Current/Target"})]}),(0,s.jsxs)("div",{className:"text-xs justify-between flex items-center opacity-60 mt-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Deadline: ",(0,c.G$)(I,c.mv.ALL2)," ",(0,s.jsx)(w.C,{children:"If the Bootstrap does not reach the target before the Deadline, users can withdraw deposited assets"})]}),(0,s.jsxs)("div",{children:[(0,u.d)(F)," / ",(0,u.d)(L)]})]}),(0,s.jsx)(m.k,{value:R,className:"mt-4 rounded-full overflow-hidden"}),(0,s.jsxs)("div",{className:"font-medium text-sm flex items-center gap-2 mt-2",children:["Deposited: ",(0,u.d)(_.result,void 0,null==Y?void 0:Y.decimals)," ",(0,s.jsx)(w.C,{children:"The deposited assets will become LP after launch and users can withdraw deposited assets anytime."})]}),(0,s.jsxs)("div",{className:"font-medium text-sm justify-between flex items-center mt-4",children:[(0,s.jsx)("div",{children:"Pool Share: 22.33%"}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:["Share a total rewards of 1000 ",(0,s.jsx)(y.c,{size:20,symbol:"vIP"})]})]}),(0,s.jsxs)("div",{className:"font-medium text-sm flex items-center justify-center gap-2 my-auto",children:[(0,s.jsx)(y.c,{symbol:"vIP",size:20})," 22.33"]}),(0,s.jsx)(b.vZ,{className:"mx-auto",tx:"Claim",disabled:!0,config:{abi:r.t9,address:i.vault,functionName:"removeLiquidity",args:[C,0n,(0,c.by)()]},onTxSuccess:()=>{P("")}})]})]})]})}function BVault2Info(e){let{vc:t}=e,n=useFets_useBvualt2Data(t),a=n.result,{startTime:r,endTime:i,reamin:l,progress:o}=getBvault2EpochTimes(a);return(0,s.jsxs)("div",{className:"card bg-white flex flex-col gap-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center font-semibold text-2xl mr-auto",children:[(0,s.jsx)(y.c,{size:30,symbol:"vIP"}),"vIP-Verio Vault"]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,s.jsx)("div",{className:"font-semibold text-sm",children:"Underlying Asset"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium leading-4",children:[" ",(0,s.jsx)(y.c,{size:16,symbol:"vIP"})," vIP"]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 mt-2 ml-10",children:[(0,s.jsx)("div",{className:"font-semibold text-sm",children:"Total Vaule Locked"}),(0,s.jsx)("div",{className:"text-xs font-medium opacity-60 leading-4",children:"$-"})]})]}),(0,s.jsx)("div",{className:"font-medium text-sm opacity-70",children:"Verio is the liquid staking and IP asset restaking platform for Story. Users stake IP to receive vIP, a yield bearing LSD. vIP can be restaked on multiple IP Assets to earn profits, while YT holders can leverage profits through the vIP-Verio Vault."}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 text-xs",children:[(0,s.jsxs)("div",{className:"opacity-60 flex justify-between items-center",children:[(0,s.jsx)("span",{children:"Duration"}),(0,s.jsxs)("span",{children:["~ ",(0,c.Y)(l)," remaining"]})]}),(0,s.jsx)(m.k,{value:o,className:"rounded-full overflow-hidden"}),(0,s.jsxs)("div",{className:"opacity-70 flex justify-between items-center",children:[(0,s.jsx)("span",{children:(0,c.G$)(r,c.mv.ALL2)}),(0,s.jsx)("span",{children:(0,c.G$)(i,c.mv.ALL2)})]})]})]})}function BVault2Swaps(e){let{vc:t}=e;return(0,s.jsx)("div",{className:"card bg-white h-full min-h-[49.25rem]",children:(0,s.jsx)(j.x,{listClassName:"p-0 gap-8 mb-4 w-full",triggerClassName:e=>'text-2xl font-semibold leading-none data-[state="active"]:underline underline-offset-2 '.concat(3==e?"ml-auto":""),data:[{tab:"PT",content:(0,s.jsx)(PT,{vc:t})},{tab:"YT",content:(0,s.jsx)(YT,{vc:t})},{tab:"BT",content:(0,s.jsx)(BT,{vc:t})},{tab:"Add Liquidity",content:(0,s.jsx)(LP,{vc:t})}]})})}function BVault2Card(e){let{vc:t}=e,n=(0,x.useRouter)(),r=(0,i.kb)(t.asset,t.chain),l=useFets_useBvualt2Data(t),o=l.result,{endTime:d,reamin:m}=(null==o?void 0:o.current)?getBvault2EpochTimes(o):getBvualt2BootTimes(o),[f]=usePTApy(t),[h]=useYTRoi(t);return r?(0,s.jsxs)("div",{className:(0,c.cn)("card !p-0 grid grid-cols-2 overflow-hidden cursor-pointer",{}),onClick:()=>(0,a.Xq)(n,t.vault),children:[(0,s.jsxs)("div",{className:(0,c.cn)(T.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center"),children:[(0,s.jsx)(y.c,{symbol:r.symbol,size:44}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:r.symbol}),(0,s.jsx)("div",{className:" text-sm font-medium",children:r.symbol.includes("-")?"LP Token":""})]}),(0,s.jsxs)("div",{className:"ml-auto",children:[(0,s.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,s.jsxs)("div",{className:"text-sm font-medium",children:["$",(0,u.d)(0n,2)]})]})]}),(0,T.yP)("Maturity Time","status-red",(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,s.jsx)("span",{children:(0,c.G$)(d,c.mv.DATE2)}),(0,s.jsx)("span",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:(0,c.Y)(m)})]})})),(0,T.yP)("Reward",r.symbol,r.symbol,!0),(0,T.Sn)("PToken","Principal Token",(0,c.T3)(f),"YToken","Yield Token",(0,c.T3)(h))]}):null}var Z=n(27022);let MCoinAmount=e=>{let{...t}=e;return(0,s.jsx)(q.T,{className:"font-bold text-sm",symbolClassName:"opacity-100",...t})};function TokenSymbol(e){let{t,size:n=32,className:a}=e;return t?(0,s.jsxs)("div",{className:(0,c.cn)("flex gap-2 items-center font-semibold",a),children:[(0,s.jsx)(y.c,{symbol:t.symbol,size:n}),t.symbol]}):null}function positions_PT(e){let{vc:t}=e,n=(0,N.pK)(),a=function(e){let t=useBvault2Epochs(e),{address:n}=(0,v.m)(),s=(0,o.B8)({key:R.Bvualt2PTRedeems(e,n,t.result),initResult:[],fetfn:async()=>{let s=t.result,a=(0,d.B)(e.chain);return Promise.all(s.map(e=>a.readContract({abi:D.Wo,address:e.PT,functionName:"balanceOf",args:[n]}))).then(e=>e.map((e,t)=>({...s[t],redeemable:e})))}});return"fetching"===t.status&&(s.status="fetching"),s}(t),l=(0,f.useMemo)(()=>{var e,l;if(!a.result.length)return[];let c=I().groupBy(a.result,e=>{let t=(e.startTime+e.duration)*1000n>BigInt((0,F.now)());return t?"active":"mature"}),d=[],m=null===(e=c.active)||void 0===e?void 0:e[0];if(m){let e=getPtToken(t,m.PT);d.push([(0,s.jsx)(TokenSymbol,{t:e},"token"),(0,u.d)(m.redeemable,void 0,e.decimals),"Active",(0,s.jsx)("div",{},"redeemable"),(0,s.jsx)("div",{},"calim")])}let x=c.mature;if(x&&x.length){let e=getPtToken(t,null!==(l=null==m?void 0:m.PT)&&void 0!==l?l:x[0].PT),c=x.reduce((e,t)=>e+t.redeemable,0n);d.push([(0,s.jsx)(TokenSymbol,{t:e},"token"),(0,u.d)(c,void 0,e.decimals),"Mature",(0,s.jsx)("div",{children:(0,s.jsx)(MCoinAmount,{token:(0,i.kb)(t.bt,n),amount:c})},"redeemable"),(0,s.jsx)("div",{children:(0,s.jsx)(b.$M,{tx:"Claim",className:"w-28 font-semibold h-7",onTxSuccess:()=>(0,o.iM)(a.key),txs:x.filter(e=>e.redeemable>0n).map(e=>({abi:r.t9,functionName:"redeemByMaturedPT",address:t.vault,args:[e.PT,e.redeemable]}))})},"calim")])}return d},[a.result]),c=["PT","Value","Status","Redeemable",""];return(0,s.jsx)("div",{className:"card !p-4 bg-white",children:(0,s.jsx)(Z.ZP,{headerClassName:"text-left font-semibold border-b-0",headerItemClassName:"py-1 px-0 text-base",rowClassName:"text-left text-black text-sm leading-none font-medium",cellClassName:"py-2 px-0",header:c,span:{2:1.6,3:2,[c.length-1]:1.3},data:l})})}function TokenBalance(e){let{t}=e,n=(0,p.KQ)(t);return t?(0,s.jsx)(s.Fragment,{children:(0,u.d)(n.result,void 0,t.decimals)}):null}function positions_YT(e){let{vc:t}=e,n=(0,N.pK)(),a=function(e){let t=useBvault2Epochs(e),{address:n}=(0,v.m)(),s=(0,o.B8)({key:R.Bvault2YTRewards(e,n,t.result),initResult:[],fetfn:async()=>{let s=t.result,a=(0,d.B)(e.chain);return Promise.all(s.map(e=>getRewardsBy(e.YT,n,a))).then(e=>e.map((e,t)=>({...s[t],rewrads:e})))}});return"fetching"===t.status&&(s.status="fetching"),s}(t),{address:l}=(0,v.m)(),c=(0,f.useMemo)(()=>{var e;if(!a.result.length)return[];let c=[],d=I().groupBy(a.result,e=>{let t=(e.startTime+e.duration)*1000n>BigInt((0,F.now)());return t?"active":"mature"}),u=null===(e=d.active)||void 0===e?void 0:e[0],m=d.mature;if(u){let e=getYtToken(t,u.YT),d=!u.rewrads.find(e=>e[1]>0n);c.push([(0,s.jsx)(TokenSymbol,{t:e},"token"),(0,s.jsx)(TokenBalance,{t:e},"ytBalance"),"Active",(0,s.jsx)("div",{children:u.rewrads.map(e=>{let[t,a]=e;return(0,s.jsx)(MCoinAmount,{token:(0,i.kb)(t,n),amount:a},"rewards_".concat(t))})},"token2"),"",(0,s.jsx)(b.vZ,{disabled:d,onTxSuccess:()=>(0,o.iM)(a.key),className:"w-28 font-semibold h-7",tx:"Claim",config:{abi:r.HP,functionName:"claimRewards",address:e.address,args:[l]}},"claim")])}if(m&&m.length){let e={},t=[];m.forEach(n=>{n.rewrads.forEach(s=>{var a;let[r,i]=s;e[r]=(null!==(a=e[r])&&void 0!==a?a:0n)+i,i>0n&&t.push(n.YT)})});let d=I().keys(e).map(t=>[t,e[t]]);c.push(["","","Rewards for mature YT",(0,s.jsx)("div",{children:d.map(e=>{let[t,a]=e;return(0,s.jsx)(MCoinAmount,{token:(0,i.kb)(t,n),amount:a},"rewards_".concat(t))})},"token2"),"",(0,s.jsx)(b.$M,{onTxSuccess:()=>(0,o.iM)(a.key),className:"w-28 font-semibold h-7",tx:"Claim",txs:t.map(e=>({abi:r.HP,functionName:"claimRewards",address:e,args:[l]}))},"claim")])}return c},[a.result]),u=["YT","Value","Status","Yield","Airdrops",""];return(0,s.jsx)("div",{className:"card !p-4 bg-white",children:(0,s.jsx)(Z.ZP,{headerClassName:"text-left font-semibold border-b-0",headerItemClassName:"py-1 px-0 text-base",rowClassName:"text-left text-black text-sm leading-none font-medium",cellClassName:"py-2 px-0",header:u,span:{2:1.6,[u.length-1]:1.3},data:c})})}function LPBT(e){let{vc:t}=e,n=(0,N.pK)(),a=function(e){let{address:t}=(0,v.m)(),n=(0,o.B8)({key:R.Bvault2LPBTRewards(e,t),initResult:[],fetfn:async()=>{let n=getLpToken(e),s=(0,i.kb)(e.bt,e.chain),a=(0,d.B)(e.chain);a.readContract({abi:r.HP,functionName:"getUserRewards",address:n.address,args:[t]}).then(e=>{console.info("userRewards:",e)});let[l,o]=await Promise.all([getRewardsBy(n.address,t,a),getRewardsBy(s.address,t,a)]);return[{token:n,rewards:l},{token:s,rewards:o}]}});return n}(t),{address:l}=(0,v.m)(),c=(0,f.useMemo)(()=>a.result.length?a.result.map(e=>[(0,s.jsx)(TokenSymbol,{t:e.token},"token"),(0,s.jsx)(TokenBalance,{t:e.token},"tokenBalance"),"",(0,s.jsx)("div",{children:e.rewards.map(e=>{let[t,a]=e;return(0,s.jsx)(MCoinAmount,{token:(0,i.kb)(t,n),amount:a},"rewards_".concat(t))})},"token2"),"",(0,s.jsx)(b.vZ,{disabled:!e.rewards.find(e=>e[1]>0n),onTxSuccess:()=>(0,o.iM)(a.key),className:"w-28 font-semibold h-7",tx:"Claim",config:{abi:r.HP,functionName:"claimRewards",address:e.token.address,args:[l]}},"claim")]):[],[a.result]),u=["YT","Value","","Yield","Airdrops",""];return(0,s.jsx)("div",{className:"card !p-4 bg-white",children:(0,s.jsx)(Z.ZP,{headerClassName:"text-left font-semibold border-b-0",headerItemClassName:"py-1 px-0 text-base",rowClassName:"text-left text-black text-sm leading-none font-medium",cellClassName:"py-2 px-0",header:u,span:{2:1.6,[u.length-1]:1.3},data:c})})}function MyPositions(e){let{vc:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsx)("div",{className:"font-semibold text-2xl leading-none",children:"My Positions"}),(0,s.jsx)(positions_PT,{vc:t}),(0,s.jsx)(positions_YT,{vc:t}),(0,s.jsx)(LPBT,{vc:t})]})}var z=n(49041),U=n(24113);function BVault2Chart(e){let{vc:t}=e,n=(0,f.useMemo)(()=>({animation:!0,animationDuration:200,tooltip:{trigger:"axis"},grid:{top:30,bottom:30,right:20,show:!1},toolbox:{show:!1},xAxis:{type:"category",boundaryGap:!1,axisLine:{onZero:!1}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1},max:e=>1.1*e.max},dataZoom:[{type:"inside",start:0,end:100,minValueSpan:10},{show:!1}]}),[]);return(0,s.jsxs)("div",{className:"card flex flex-col gap-5 w-full min-w-0 bg-white",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-2 items-center",children:[(0,s.jsx)("span",{className:"text-base font-bold",children:"Chart"}),(0,s.jsx)(U.G,{className:"text-sm",options:["PT APY","PT Price","YT APY","YT Price"]})]}),(0,s.jsx)(z.Z,{option:n,style:{height:300}})]})}var $=n(82121),G=n(26694),Q=n(77087),H=n(11914),J=n(73559),X=n(38108);function Bvualt2Page(e){var t,n;let{vc:a}=e,r=useFets_useBvualt2Data(a),i=(null!==(n=null===(t=r.result)||void 0===t?void 0:t.epochIdCount)&&void 0!==n?n:0n)<1n;return(0,s.jsxs)(f.Fragment,{children:[(0,o.VZ)(r)&&"Opps! Network Error!",(0,o.hg)(r)&&(0,s.jsx)(Q.$,{className:"mt-10 mx-auto text-black dark:text-white"}),(0,o.d6)(r)&&(0,s.jsx)(f.Fragment,{children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"page-title",children:"Bootstrap"}),(0,s.jsx)($.K,{data:"Deposit underlying assets to earn rewards. The Vault will launch once the target value is reached."}),(0,s.jsx)(BVault2Bootstrap,{vc:a})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-5 lg:grid-cols-[8fr_5fr] mb-5",children:[(0,s.jsx)(BVault2Info,{vc:a}),(0,s.jsx)("div",{className:"row-span-2",children:(0,s.jsx)(BVault2Swaps,{vc:a})}),(0,s.jsx)(BVault2Chart,{vc:a})]}),(0,s.jsx)(MyPositions,{vc:a})]})})]})}function BootstrapPage(){let e=J.j.filter(e=>e.onEnv.includes(l.Vi)),t=(0,x.useSearchParams)(),n=t.get("vault");if(0==e.length)return null;let a=n?e.find(e=>(0,E.E)(e.vault,n)):void 0;return(0,s.jsx)(G.E,{children:(0,s.jsx)("div",{className:"w-full max-w-[1368px] px-4 mx-auto md:pb-8",children:a?(0,s.jsxs)(H.Wg,{chains:[a.chain],children:[(0,s.jsx)(Bvualt2Page,{vc:a})," "]}):(0,s.jsx)(X.r,{numItems:1,numItemsMd:2,numItemsLg:3,className:"gap-5 mt-4",children:e.map((e,t)=>(0,s.jsx)(H.Wg,{chains:[e.chain],children:(0,s.jsx)(BVault2Card,{vc:e})},"b_vault2_item_".concat(t)))})})})}},11877:function(e,t,n){"use strict";n.d(t,{T:function(){return CoinAmount}});var s=n(52987),a=n(31506),r=n(29293),i=n(13854),l=n(83978),o=n.n(l);function CoinAmount(e){let{token:t,amount:n,size:l,className:c,symbolClassName:d,amountClassName:u}=e;return t?(0,s.jsxs)("div",{className:(0,i.cn)("flex gap-2 items-center font-medium text-xs",c),children:[(0,s.jsx)(a.c,{size:l||16,symbol:t.symbol}),(0,s.jsx)("span",{className:(0,i.cn)("opacity-60",d),children:t.symbol}),!o().isNil(n)&&(0,s.jsx)("span",{className:(0,i.cn)("ml-1",u),children:(0,r.d)(n,void 0,t.decimals)})]}):null}},51470:function(e,t,n){"use strict";n.d(t,{x:function(){return GetvIP}});var s=n(52987);n(81501);var a=n(53414),r=n(85049),i=n.n(r),l=n(31506),o=n(7347),c=n(99409);function GetvIP(e){let{address:t}=e,n=(0,c.pK)(),r=(0,o.kb)(t,n);return(null==r?void 0:r.symbol)!=="vIP"?null:(0,s.jsxs)("div",{className:"text-xs font-medium flex gap-2 justify-end items-center",children:[(0,s.jsx)(l.c,{symbol:"verio",size:18}),(0,s.jsx)(i(),{target:"_blank",className:"underline",href:(0,a.FN)(t),children:"Get vIP on Verio"})]})}},82121:function(e,t,n){"use strict";n.d(t,{K:function(){return Noti}});var s=n(52987);n(77317);var a=n(63114);function Noti(e){let{data:t}=e;return(0,s.jsxs)("div",{className:"w-full mt-2 mb-3 md:mt-4 md:mb-6 flex text-[24px] md:text-[14px] text-[#64748B] dark:text-slate-50/60 font-medium leading-[24px] md:leading-[14px]",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsx)(a.pMA,{size:20})}),(0,s.jsx)("div",{className:"text-sm ml-1 ",children:t})]})}},27022:function(e,t,n){"use strict";var s=n(52987),a=n(13854),r=n(83978),i=n.n(r);function DefEmpty(){return(0,s.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,s.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}n(77317),t.ZP=e=>{let{header:t,data:n,span:r={},empty:l=(0,s.jsx)(DefEmpty,{}),className:o="relative min-w-full bg-transparent ",headerClassName:c,headerItemClassName:d,tbodyClassName:u="",rowClassName:m,rowStyle:x,cellClassName:f,onClickRow:h,onRowMouseHover:v}=e,p=t.reduce((e,t,n)=>{var s;return e+(null!==(s=r[n])&&void 0!==s?s:1)},0),b=p>0?100/p:0;return(0,s.jsxs)("table",{className:(0,a.cn)("relative min-w-full bg-transparent ",o),children:[(0,s.jsx)("thead",{className:"",children:(0,s.jsx)("tr",{className:(0,a.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",c),children:t.map((e,t)=>{var n;return(0,s.jsx)("th",{style:{width:"".concat(i().floor(b*(null!==(n=r[t])&&void 0!==n?n:1),2),"%")},scope:"col",className:(0,a.cn)(0==r[t]?"p-0 w-0":"p-3 font-normal text-sm",d),children:e},t)})})}),(0,s.jsxs)("tbody",{className:(0,a.cn)(u),children:[n.map((e,n)=>(0,s.jsx)("tr",{onClick:()=>h&&h(n),onMouseEnter:()=>v&&v(n),onMouseLeave:()=>v&&v(-1),style:"function"==typeof x?x(n):x,className:(0,a.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",h?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof m?m(n):m),children:e.map((e,i)=>i>=t.length?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsx)("td",{className:(0,a.cn)(0==r[i]?"p-0 w-max":"px-3 py-2 text-sm w-max","function"==typeof f?f(n,i):f),children:e},i))},n)),0===n.length&&l]})]})}},77087:function(e,t,n){"use strict";n.d(t,{$:function(){return Spinner}});var s=n(52987),a=n(13854);let Spinner=e=>{let{className:t}=e;return(0,s.jsxs)("svg",{fill:"none",className:(0,a.cn)("animate-spin h-5 w-5 2-ml-1 2mr-3",t),viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},11914:function(e,t,n){"use strict";n.d(t,{UW:function(){return useConfigChains},Wg:function(){return ConfigChainsProvider}});var s=n(52987),a=n(53414),r=n(77317);let i=r.createContext({chains:a.Af,def:a.Af[0].id,setDef:()=>{}});function ConfigChainsProvider(e){let{children:t,chains:n}=e,l=n.map(e=>a.Af.find(t=>t.id===e)).filter(Boolean);if(0==l.length)throw Error("ConfigChains Error");let[o,c]=(0,r.useState)(l[0].id),d=l.map(e=>e.id).includes(o)?o:l[0].id;return(0,s.jsx)(i.Provider,{value:{chains:l,def:d,setDef:c},children:t})}function useConfigChains(){return(0,r.useContext)(i)}},50110:function(e,t,n){"use strict";n.d(t,{r:function(){return TokenInput}});var s=n(52987),a=n(13854),r=n(29293),i=n(33501),l=n(83978),o=n.n(l),c=n(77317),d=n(85665),u=n(68728),m=n(84525),x=n(31506),f=n(77087),h=n(24113);function TokenSymbol(e){let{token:t}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.c,{symbol:t.symbol,size:24}),t.symbol]})}function TokenInput(e){let{tokens:t,checkBalance:n=!0,balance:l=!0,balanceTit:x="Balance",exchange:v,readonly:p,selected:b,onClick:g,amount:y,setAmount:j,price:k,disable:w,balanceClassName:T="",loading:N,error:B="",onTokenChange:P}=e,C=(0,c.useMemo)(()=>t.map(e=>({key:e.address,show:(0,s.jsx)(TokenSymbol,{token:e}),data:e})),[JSON.stringify(t)]),[E,A]=(0,c.useState)(C[0].data);(0,c.useEffect)(()=>{C.some(e=>e.data==E)||(console.info("tokenChange:"),A(C[0].data),null==P||P(C[0].data))},[E,C]);let S=n&&!w,L=(0,m.KQ)(S?E:void 0),F=L.result,I=(0,c.useRef)(null),R=S&&(0,a.su)("".concat(null!=y?y:"0"),E.decimals)>F,Y=!!B||R,[_,{width:D}]=(0,d.Z)();return 0==C.length?null:(0,s.jsxs)("div",{className:"relative w-full",onClick:()=>{g&&!w&&g()},children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"absolute flex items-center h-fit gap-2 left-[48px] bottom-1 w-full  max-w-[calc(100%-56px)]",style:{pointerEvents:"none"},children:[k&&(0,s.jsx)("div",{className:"text-neutral-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:k}),v&&(0,s.jsxs)("div",{className:"text-slate-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:["~$",v]})]}),(0,s.jsx)("div",{className:"absolute flex items-center gap-2 w-fit top-1/2 left-4 -translate-y-1/2 z-50",ref:_,children:t.length>1?(0,s.jsx)(h.G,{className:"border-none",options:C,onChange:e=>{console.info("tokenChange:",e),A(e.data),null==P||P(e.data)}}):(0,s.jsx)(TokenSymbol,{token:E})}),(0,s.jsx)("input",{value:N?"":y,onChange:e=>{if(p)return;let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");j(t)},ref:I,type:"number",disabled:w,style:{paddingLeft:"".concat(o().round((D+32)/16,3),"rem")},className:(0,i.Z)(p?"bg-slate-50 cursor-not-allowed dark:bg-slate-800":"bg-white dark:bg-transparent",{"border-green-700 border-2":b,"border-red-400 !border-2 focus:border-red-400":Y,"border-slate-400  focus:border-primary":!Y&&!b},"w-full h-14 text-right pr-4 font-bold text-lg border-[#4A5546] border focus:border-2 text-slate-700 rounded-lg outline-none dark:text-slate-50"),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:p}),N&&(0,s.jsx)(f.$,{className:"absolute right-24 top-[1.125rem]"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-slate-400 dark:text-slate-50/70 text-sm",children:[l&&!w&&(0,s.jsxs)("div",{className:T,children:[(0,s.jsxs)("span",{children:[x,": ",(0,r.d)(F,void 0,E.decimals)]}),(0,s.jsx)("button",{className:"text-primary ml-2",onClick:()=>{let e=(0,u.b)(F,E.decimals);j(e),g&&!w&&g()},children:"Max"})]}),Y&&(0,s.jsx)("div",{className:"text-sm text-red-400",children:B||"Insufficient account balance"})]})]})}},45820:function(e,t,n){"use strict";n.d(t,{HY:function(){return Swap},JK:function(){return SwapDown},k6:function(){return BBtn}});var s=n(52987),a=n(13854),r=n(83978),i=n.n(r),l=n(77317),o=n(63114),c=n(72703),d=n(77087);function BBtn(e){let{borderWidth:t=1,children:n,busy:r,busyShowContent:o=!0,className:c,hiddenBorder:u=!0,...m}=e,x=(0,l.useRef)(null),[f,h]=(0,l.useState)("0_0"),v="unset",p="unset";if(x.current&&!u){let e=x.current,n=e.clientWidth,s=e.clientHeight,a=parseInt(getComputedStyle(e).borderRadius.replace("px","")),r="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(a," ").concat(t,"L").concat(n-a," ").concat(t),l="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(n-t," ").concat(a,"L").concat(n-t," ").concat(s-a),o="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(n-a," ").concat(s-t,"L").concat(a," ").concat(s-t," "),c="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(t," ").concat(s-a,"L").concat(t," ").concat(a),d="M ".concat(t," ").concat(a," ").concat(r," ").concat(l," ").concat(o," ").concat(c),u="M 0 0 L 0 ".concat(s," L ").concat(n," ").concat(s," L ").concat(n," 0 L 0 0 ").concat(d," Z");v="path('".concat(u,"')");let m=2*n,tranP=e=>i().round(e/2,2);p="radial-gradient(122.5% ".concat(i().round(122.5/(n/s),2),"% at ").concat(i().round((52.9*n+50*m-50*n)/m,2),"% ").concat(i().round((16.25*s+50*m-50*s)/m,2),"%, #15d264 0%, #2cbd35 ").concat(tranP(36.26),"%, #dcf45d ").concat(tranP(92.54),"%)")}return(0,l.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t;h("".concat((null===(e=x.current)||void 0===e?void 0:e.clientWidth)||0,"_").concat((null===(t=x.current)||void 0===t?void 0:t.clientWidth)||0))});return x.current&&e.observe(x.current),()=>{x.current&&e.unobserve(x.current)}},[x.current]),(0,s.jsxs)("button",{...m,ref:x,style:{},className:(0,a.cn)("group/bbtn bg-[#64738B] hover:bg-primary disabled:hover:bg-[#64738B] relative px-3 cursor-pointer w-full transition-all leading-[2.375] ring-0 text-base text-white font-medium h-10 rounded-lg disabled:opacity-60 disabled:cursor-not-allowed",c),children:[!u&&(0,s.jsx)("div",{className:"absolute w-full h-full left-0 top-0 flex justify-center items-center rounded-lg overflow-hidden",style:{visibility:x.current?"visible":"hidden",clipPath:v},children:(0,s.jsx)("div",{className:(0,a.cn)("w-[200%] aspect-square shrink-0",{"group-hover/bbtn:animate-spin-slow":!e.disabled}),style:{background:p}})}),r&&(0,s.jsx)(d.$,{}),(o||!r)&&n]})}function Swap(e){let{className:t,style:n,...r}=e;return(0,s.jsx)("div",{...r,style:{transform:"rotateX(180deg) rotateZ(90deg)",...n||{}},className:(0,a.cn)("flex w-8 h-8 justify-center items-center self-center text-sm cursor-pointer border border-slate-500 text-slate-500 rounded-full hover:text-primary hover:border-primary",t),children:(0,s.jsx)(o.t4O,{})})}function SwapDown(e){let{className:t,style:n,...r}=e;return(0,s.jsx)("div",{...r,style:{...n||{}},className:(0,a.cn)("flex w-8 h-8 justify-center items-center self-center text-sm cursor-pointer border border-slate-500 text-slate-500 rounded-full",t),children:(0,s.jsx)(c.OId,{})})}},24113:function(e,t,n){"use strict";n.d(t,{G:function(){return SimpleSelect}});var s=n(52987),a=n(13854),r=n(77317),i=n(53360),l=n(23449);function SimpleSelect(e){let{options:t,value:n,defValue:o,onChange:c,className:d,itemClassName:u,currentClassName:m}=e,[x,f]=(0,r.useState)(!1),[h,v]=(0,r.useState)(o||t[0]);(0,r.useEffect)(()=>{!t.length||h&&t.find(e=>e!==h)||(v(o||t[0]),null==c||c(o||t[0]))},[t,o,h]);let p=n||h,b=(0,r.useRef)(null);(0,l.Z)(b,()=>f(!1));let renderItem=e=>e?"string"==typeof e?e:e.show:null;return 0==t.length?null:(0,s.jsxs)("div",{ref:b,className:(0,a.cn)("w-auto rounded relative border-gray-400/60 border dark:bg-white/5 bg-white select-none cursor-pointer",d),children:[(0,s.jsxs)("div",{className:(0,a.cn)("flex items-center justify-between gap-5 px-2 py-1",m),onClick:()=>f(!x),children:[(0,s.jsx)("div",{className:"flex items-center",children:renderItem(p)}),x?(0,s.jsx)(i.E0f,{}):(0,s.jsx)(i.IAR,{})]}),x&&(0,s.jsx)("div",{className:"mt-1 absolute overflow-hidden z-50 top-full min-w-full w-max right-0 flex flex-col rounded bg-white dark:bg-black border-gray-400/60 border",children:t.map(e=>(0,s.jsx)("div",{className:(0,a.cn)("w-auto cursor-pointer px-2 py-1 hover:bg-primary/30",u),onClick:()=>{v(e),null==c||c(e),f(!1)},children:renderItem(e)},"string"==typeof e?e:e.key))})]})}},97154:function(e,t,n){"use strict";n.d(t,{V:function(){return Switch2},r:function(){return Switch}});var s=n(52987),a=n(13854),r=n(78525),i=n(19698),l=n.n(i);function Switch(e){let t=(0,r.l)();return(0,s.jsx)("div",{style:{padding:1,border:"1px solid transparent",backgroundRepeat:"no-repeat",backgroundClip:"padding-box,border-box",backgroundOrigin:"padding-box,border-box",backgroundImage:e.checked?"radial-gradient(#0B1215,#0B1215),radial-gradient(122.5% 122.5% at 52.9% 16.25%, #6366F1 0%, #6366F1 36.26%, #6366F1 92.54%)":"light"==t.theme?"radial-gradient(#FAFAFA,#FAFAFA),radial-gradient(#0A1114,#0A1114)":"radial-gradient(#0A1114,#0A1114),radial-gradient(#4A5546,#4A5546)"},className:(0,a.cn)("relative h-[1em] w-[2.5em] cursor-pointer rounded-[0.4em] text-xl"),onClick:()=>{var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e,!e.checked)},children:(0,s.jsx)("div",{className:(0,a.cn)("transition-all h-full w-[1.5em] absolute top-0 rounded-[0.4em]",e.checked?"left-[1em]":"-left-[1px]"),style:{background:e.checked?"radial-gradient(76.25% 76.25% at 50.3% 23.75%, #6366F1 0%, #6366F1 100%)":"#3B4144"}})})}function Switch2(e){var t,n;let r=null!==(t=e.border)&&void 0!==t?t:1,i=null!==(n=e.size)&&void 0!==n?n:16,o=l()(1.2*i),c=l()(i),d=l()(2*o+2*r),u=l()(i+2*r);return(0,s.jsx)("div",{style:{borderWidth:r,height:u,width:d},className:(0,a.cn)("relative inline-block bg-gray-300 rounded-full border-primary transition duration-200 ease-in-out cursor-pointer",e.checked&&"bg-primary",e.className),onClick:()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,!e.checked)},children:(0,s.jsx)("div",{style:{width:o,height:c},className:(0,a.cn)("left-0 w-6 bg-white dark:bg-black rounded-full shadow-md transform transition duration-200 ease-in-out",e.checked&&"translate-x-full")})})}},25282:function(e,t,n){"use strict";n.d(t,{C:function(){return Tip}});var s=n(52987),a=n(13854),r=n(52653),i=n(55966);function Tip(e){let{children:t,node:n,className:l,inFlex:o,contentClassName:c}=e,d=document.getElementById("tooltip-root");return t?(0,s.jsx)(r.zt,{children:(0,s.jsxs)(r.fC,{children:[(0,s.jsx)(r.xz,{asChild:!0,onClickCapture:e=>{e.preventDefault(),e.stopPropagation()},children:n?(0,s.jsx)("div",{className:(0,a.cn)("inline-block cursor-default",l),style:{verticalAlign:"text-bottom"},children:n}):(0,s.jsx)("div",{className:(0,a.cn)(o?"flex":"translate-y-[-6%] inline-block"," px-[3px] cursor-default relative",l),children:(0,s.jsx)(i.apP,{className:"inline-block stroke-slate-500"})})}),(0,s.jsx)(r.h_,{container:d,children:(0,s.jsxs)(r.VY,{className:(0,a.cn)("max-w-xs text-sm text-white bg-slate-900 shadow-lg dark:bg-[#333333] rounded-md p-4",c),children:[t,(0,s.jsx)(r.Eh,{})]})})]})}):n}},7807:function(e,t,n){"use strict";n.d(t,{BW:function(){return renderToken},Sn:function(){return renderChoseSide},bG:function(){return o},yP:function(){return renderStat}});var s=n(52987),a=n(13854),r=n(29293),i=n(31506),l=n(45820);let o="py-5 flex flex-col items-center gap-2 relative dark:border-border border-solid",renderToken=function(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,s.jsx)("div",{className:(0,a.cn)(o,"border-b",{"border-l":c}),children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap flex gap-2 items-center",children:[(0,s.jsx)(i.c,{symbol:e,size:14}),e]}),(0,s.jsxs)("div",{className:"flex mt-2 flex-col gap-1 pl-[1.375rem] text-xs font-medium",children:[(0,s.jsx)("span",{className:"",children:(0,r.d)(t,void 0,l)}),(0,s.jsx)("span",{className:" text-[#64748B] dark:text-slate-50/60",children:"$".concat((0,r.d)(n,2,l))})]})]})})},renderStat=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,s.jsx)("div",{className:(0,a.cn)(o,"border-b pb-10",{"border-l":r}),children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap text-center",children:e}),(0,s.jsxs)("div",{className:"flex mt-2 items-center gap-2 text-sm font-medium",children:[(0,s.jsx)(i.c,{symbol:t,size:14}),"string"==typeof n?(0,s.jsx)("span",{children:n}):n]})]})})},BtnWrap=e=>{let{children:t,onClick:n,...a}=e;return(0,s.jsx)(l.k6,{hiddenBorder:!0,...a,disabled:!e.onClick,onClick:n,children:t})},renderChoseSide=(e,t,n,r,l,c,d,u)=>(0,s.jsxs)("div",{className:(0,a.cn)(o,"col-span-2 gap-4"),children:[(0,s.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Choose your side"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 w-full px-4",children:[(0,s.jsx)(BtnWrap,{className:(0,a.cn)("h-[4.25rem] w-full relative disabled:opacity-100 disabled:cursor-default"),onClick:d,children:(0,s.jsxs)("div",{className:"flex gap-2 items-center p-4 w-full h-[4.25rem] absolute left-0 top-0",children:[(0,s.jsx)(i.c,{symbol:e,size:36}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,s.jsx)("div",{className:"text-white/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:t}),!!n&&(0,s.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:n})]})]})}),(0,s.jsx)(BtnWrap,{className:(0,a.cn)("h-[4.25rem] w-full relative disabled:opacity-100 disabled:cursor-default"),onClick:u,children:(0,s.jsxs)("div",{className:"flex flex-row-reverse gap-2 items-center p-4 w-full h-[4.25rem] absolute left-0 top-0",children:[(0,s.jsx)(i.c,{symbol:r,size:36}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,s.jsx)("div",{className:"text-white/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:l}),!!c&&(0,s.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:c})]})]})})]})]})},73559:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var s=n(64786);let a=[{tit:"YTK Vault1",vault:"0x8e2fd9b36b9d1dea6b931f3492d26745daa195e3",asset:"0x97e733e8583169c3a8f8d18e0556b6567973c5b8",bt:"0xaca6abef41315da039f0025900bdbb2e85034325",protocal:"0x521ec0865129ddbefa6963ac2a5c4bf4d3ebf2d8",protocalSettings:"0xbfa4b61d2a75056521ee543d516374515221a9e8",hook:"0x4b5435453b6d6b61b61f129d11cb186d97bc7a88",mockInfraredVault:"0x2aba549ac8b3e79225b45bb2e94e99e42fe8ffeb",onEnv:["test"],chain:s.F.id,logs:!0},{tit:"YTK Vault2",vault:"0xf6c73f08114556e523c6255fcd9a60dc0b01268a",asset:"0x97e733e8583169c3a8f8d18e0556b6567973c5b8",bt:"0xaca6abef41315da039f0025900bdbb2e85034325",protocal:"0x521ec0865129ddbefa6963ac2a5c4bf4d3ebf2d8",protocalSettings:"0xbfa4b61d2a75056521ee543d516374515221a9e8",hook:"0xb8b435fd066c3a0a78bbd83c59d0fee2c1db7a88",mockInfraredVault:"0x2aba549ac8b3e79225b45bb2e94e99e42fe8ffeb",onEnv:["test"],chain:s.F.id}]},81501:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});let s={}},7347:function(e,t,n){"use strict";n.d(t,{kb:function(){return getTokenBy}});var s=n(44964),a=n(92851),r=n(64786),i=n(93305),l=n(53414);let o=[{address:s.DR,symbol:"ETH",decimals:18,chain:[a.R.id,r.F.id],isNative:!0},{address:s.DR,symbol:"IP",decimals:18,chain:[l.yg.id],isNative:!0},{address:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",symbol:"ETH",decimals:18,chain:[a.R.id,r.F.id],isNative:!0},{address:"0x5267F7eE069CEB3D8F1c760c215569b79d0685aD",symbol:"vIP",decimals:18,chain:[l.yg.id]},{address:"0xADb174564F9065ce497a2Ff8BEC62b21e8b575d4",symbol:"pvIP",decimals:18,chain:[l.yg.id]},{address:"0xADb174564F9065ce497a2Ff8BEC62b21e8b575d7",symbol:"yvIP",decimals:18,chain:[l.yg.id]},{address:"0xADb174564F9065ce497a2Ff8BEC62b21e8b575d5",symbol:"LPvIP",decimals:18,chain:[l.yg.id]},{address:"0xADb174564F9065ce497a2Ff8BEC62b21e8b575d6",symbol:"bvIP",decimals:18,chain:[l.yg.id]},{address:"0x5267F7eE069CEB3D8F1c760c215569b79d0685aE",symbol:"WIP",decimals:18,chain:[l.yg.id]},{address:"0xb09a8ba59615a552231cefcee80c3b88706597ed",symbol:"YTK",decimals:18,chain:[r.F.id]},{address:"0xf37b6ec18cee80634de01aef83701d6e726e7fc9",symbol:"BT-INFRA",decimals:18,chain:[r.F.id]},{address:"0xfa9eeeaf51a053bfb94643ad3d80837c661d99eb",symbol:"YTK",decimals:18,chain:[i.Y.id]},{address:"0x8eeca063d0ec83b98f6af9008c535b1ca2c03e93",symbol:"BT-INFRA",decimals:18,chain:[i.Y.id]},{address:"0xd5255Cc08EBAf6D54ac9448822a18d8A3da29A42",symbol:"AIDaUSDC",decimals:6,chain:[l.yg.id]},{address:"0xF1815bd50389c46847f0Bda824eC8da914045D14",symbol:"USDC",decimals:6,chain:[l.yg.id]},{address:"0x66B4CB07229EcCC6f48161DfcC229Ac06af25457",symbol:"pAIDaUSDC",decimals:6,chain:[l.yg.id]},{address:"0x67B7B0B3fA057703E077D1Df6b50065a1229D41A",symbol:"pAIDaUSDC",decimals:6,chain:[l.yg.id]},{address:"0x97e733e8583169c3a8f8d18e0556b6567973c5b8",symbol:"YTK",decimals:18,chain:[r.F.id]},{address:"0xaca6abef41315da039f0025900bdbb2e85034325",symbol:"BT-INFRA",decimals:18,chain:[r.F.id]}],c=o.reduce((e,t)=>t.chain.reduce((e,n)=>({...e,["".concat(n,"_").concat(t.address.toLowerCase())]:t}),e),{});function getTokenBy(e,t,n){if(!e||!t)return;let s=c["".concat(t,"_").concat(e.toLowerCase())];if(!s){let{symbol:s="Token",decimals:a=18,isNative:r}=null!=n?n:{};return{address:e,chain:[t],symbol:s,decimals:a,isNative:r}}return s}},99409:function(e,t,n){"use strict";n.d(t,{pK:function(){return useCurrentChainId},tx:function(){return useNetworkWrong}});var s=n(11914),a=n(53414),r=n(27157);function useCurrentChainId(){let e=(0,r.x)();return(0,a.rv)(e),(0,a.BV)()}function useNetworkWrong(){let e=(0,r.x)(),{chains:t}=(0,s.UW)(),n=t.find(t=>t.id===e);return!n}},9540:function(e,t,n){"use strict";n.d(t,{B8:function(){return useFet},VZ:function(){return isError},d6:function(){return isSuccess},hg:function(){return isLoading},iM:function(){return reFet}});var s=n(96555),a=n(13854),r=n(68495),i=n.n(r),l=n(77317);let o={},c={};function initFS(e){return{key:e.key,status:"idle",result:e.initResult,lastUpDate:0}}let d=new(i());async function runFetImpl(e){var t,n;let s=o[e.key].runId,r=Object.hasOwn(c,e.key),i=null!==(t=e.retry)&&void 0!==t?t:3;for(;i>0;){i--;try{if(s!==o[e.key].runId)break;let t=await (r?"function"==typeof c[e.key]?c[e.key]():c[e.key]:e.fetfn());if(s!==o[e.key].runId)break;return o[e.key].fs.result=t,o[e.key].fs.lastUpDate=now(),o[e.key].fs.status="success",d.emit(e.key,o[e.key].fs),t}catch(t){if(console.error("RunFetError: fetKey:".concat(e.key," retryCount:").concat(i),t),0==i){if(s!==o[e.key].runId)break;o[e.key].fs.status="error",o[e.key].fs.error=t,d.emit(e.key,o[e.key].fs);break}await (0,a._v)(null!==(n=e.retryInterval)&&void 0!==n?n:500)}}}function runFet(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o[e.key]){var n;(n=e.key)&&(o[n].runId>999999?o[n].runId=0:o[n].runId++),runFetImpl(e)}else o[e.key]={fet:e,runId:0,fs:initFS(e)},runFetImpl(e);return o[e.key].fs.status="fetching",o[e.key].fs.error=void 0,t&&d.emit(e.key,o[e.key].fs),o[e.key].fs}function now(){return new Date().getTime()}let updateReducer=e=>(e+1)%1e6;function useFet(e){var t;let n=function(){let[,e]=(0,l.useReducer)(updateReducer,0);return e}(),a=(null===(t=o[e.key])||void 0===t?void 0:t.fs)||initFS(e),r=!!e.key&&(!a||"idle"==a.status);return r&&(a=runFet(e)),(0,l.useEffect)(()=>{var t;s.hc&&(window.fets=o);let a=(t=e=>{n()},e.key?(d.on(e.key,t),()=>{d.off(e.key,t)}):()=>{});return function(e){var t,n;let s=null===(t=o[e.key])||void 0===t?void 0:t.fs,a=null!==(n=e.cacheTime)&&void 0!==n?n:1e3;return!!(e.key&&s&&"fetching"!==s.status&&now()-s.lastUpDate>a)}(e)&&(runFet(e),n()),a},[e.key]),a}function isLoading(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0!=t.length&&!!t.find(e=>"fetching"===e.status&&0==e.lastUpDate)}function isSuccess(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!(0==t.length||t.find(e=>0==e.lastUpDate))}function isError(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0!=t.length&&!!t.find(e=>"error"===e.status)}function reFet(){for(var e,t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];for(let t of n){let n="string"==typeof t?null===(e=o[t])||void 0===e?void 0:e.fet:t;n&&runFet(n,!0)}}},84525:function(e,t,n){"use strict";n.d(t,{A5:function(){return useTotalSupply},KQ:function(){return useBalance}});var s=n(9540),a=n(62628),r=n(5624),i=n(87621),l=n(99409);let keyBalance=(e,t)=>t&&e?"tokenBalance:".concat(e.chain,"-").concat(e.address,"-by-").concat(t):"";function useBalance(e){let{address:t}=(0,i.m)(),n=(0,l.pK)();return(0,s.B8)({key:keyBalance(e,t),initResult:0n,fetfn:async()=>e.isNative?(0,a.B)(n).getBalance({address:t}):(0,a.B)().readContract({abi:r.Wo,functionName:"balanceOf",address:e.address,args:[t]})})}let keyTotalSupply=e=>e?"tokenTotalSupply:".concat(e.chain,"-").concat(e.address):"";function useTotalSupply(e){return(0,s.B8)({key:keyTotalSupply(e),initResult:0n,fetfn:async()=>e.isNative?0n:(0,a.B)().readContract({abi:r.Wo,functionName:"totalSupply",address:e.address})})}},29293:function(e,t,n){"use strict";n.d(t,{d:function(){return displayBalance}});var s=n(68728);let displayBalance=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(!e)return"0";let a=Number((0,s.b)(e,n)),r=Number((.1**t).toFixed(t));return a>0&&a<r?"<"+r:a<0&&a>-r?"≈0":a.toLocaleString("en-US",{maximumFractionDigits:t})}},23449:function(e,t,n){"use strict";var s=n(77317),a=n(17695),r=["mousedown","touchstart"];t.Z=function(e,t,n){void 0===n&&(n=r);var i=(0,s.useRef)(t);(0,s.useEffect)(function(){i.current=t},[t]),(0,s.useEffect)(function(){for(var handler=function(t){var n=e.current;n&&!n.contains(t.target)&&i.current(t)},t=0,s=n;t<s.length;t++){var r=s[t];(0,a.on)(document,r,handler)}return function(){for(var e=0,t=n;e<t.length;e++){var s=t[e];(0,a.S1)(document,s,handler)}}},[n,e])}}},function(e){e.O(0,[4881,7495,7622,5294,3113,6115,3296,3868,2444,8178,6466,4619,6986,5049,278,1838,5793,3422,4195,6338,1744],function(){return e(e.s=6685)}),_N_E=e.O()}]);