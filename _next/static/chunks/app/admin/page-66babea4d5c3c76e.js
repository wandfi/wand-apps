(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{42706:function(e,t,a){Promise.resolve().then(a.bind(a,10219))},10219:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AdminPage}});var n=a(31113),s=a(99548),l=a(88702),r=a(44939),i=a(79099),u=a(19757),o=a(10494),c=a(59175),d=a(48405),p=a(15506),f=a(63126),m=a(64103),v=a(45631),g=a(58409),b=a(85665),A=a(62531),x=a(35057),h=a(33737),P=a(11292),y=a(61766),T=a(58714),B=a(96670);let S=[{label:"资产利息率",value:"Y"},{label:"目标AAR",value:"AART"},{label:"安全AAR",value:"AARS"},{label:"上顶AAR",value:"AARU"},{label:"熔断AAR",value:"AARC"},{label:"赎回手续费",value:"C"},{label:"进入国库比例",value:"TreasuryFeeRate"},{label:"Discount冷静时间",value:"CircuitBreakPeriod",units:0},{label:"低买池最小成交量USB",value:"PtyPoolMinUsbAmount"},{label:"高卖池最小成交量",value:"PtyPoolMinAssetAmount"},{label:"RateR",value:"RateR"}],k=[{label:"产品周期",value:"D",units:0},{label:"初始定价",value:"APRi"},{label:"赎回手续费",value:"f1"},{label:"利息佣金",value:"f2"}],w=[{label:"产品周期",value:"D",units:0},{label:"Nft质押Claim等待时间",value:"NftDepositLeadingTime",units:0},{label:"Nft赎回等待时间",value:"NftRedeemWaitingPeriod",units:0},{label:"初始定价",value:"APRi"},{label:"赎回手续费",value:"f1"},{label:"利息佣金",value:"f2"}];function UpdateVaultParams(e){let{paramList:t,vault:a,protocoSettingAddress:r}=e,u=(0,m.useMemo)(()=>t.map(e=>({...e,label:"".concat(e.label,"(").concat(e.value,")")})),[t]),[{value:o,param:c},d]=(0,g.Z)({value:"",param:u[0]}),{data:P,refetch:y}=(0,p.uX)({contracts:t.map(e=>({abi:i.$4,address:r,functionName:"vaultParamValue",args:[a,(0,A.$G)(e.value,{size:32})]}))}),T=(0,m.useMemo)(()=>(P||[]).map((e,a)=>{let n=t[a];return"".concat(n.label,"(").concat(n.value,"): ").concat((0,x.b)(e.result||0n,"number"==typeof n.units?n.units:10))}),[P]),B="number"==typeof c.units?c.units:10,[S,k]=(0,b.Z)();return(0,n.jsxs)(l.Ak,{tit:"Vault Param Vaule",children:[(0,n.jsx)(v.ZP,{classNames:l.At,maxMenuHeight:k.height+110,value:c,options:u,onChange:e=>d({param:e})}),(0,n.jsx)("input",{value:o.toString(),onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");d({value:t})},type:"number",className:(0,f.cn)(l.pk),pattern:"[0-9.]{36}",step:1,placeholder:"0"}),(0,n.jsx)(s.v,{tx:"Write",config:{abi:i.$4,address:r,functionName:"updateVaultParamValue",args:[a,(0,A.$G)(c.value,{size:32}),(0,h.v)(o,B)]},onTxSuccess:()=>{d({value:""}),y()},className:" w-full flex items-center justify-center gap-4"}),(0,n.jsx)("div",{className:"text-sm flex flex-col items-start",ref:S,children:T.map((e,t)=>(0,n.jsx)("div",{children:e},"info_".concat(t)))})]})}function UpdateVaultPrice(e){let{vc:t}=e,[{feed:a},r]=(0,g.Z)({feed:""});return(0,n.jsxs)(l.Ak,{tit:"Vault Price Feed",children:[(0,n.jsx)("input",{type:"text",placeholder:"_assetTokenPriceFeed_",value:a,onChange:e=>r({feed:e.target.value}),className:(0,f.cn)(l.pk)}),(0,n.jsx)(s.v,{tx:"Write",config:{abi:i.WW,address:t.vault,functionName:"updatePriceFeed",args:[a]},onTxSuccess:()=>{r({feed:""})},className:" w-full flex items-center justify-center gap-4"})]})}function ClaimYieldsForBuyPool(e){let{vc:t}=e,{data:a}=(0,p.D2)({abi:i.aT,address:t.ptyPoolBelowAddress,functionName:"claimableYields"}),r=t.ptyPoolBelowAddress&&a||0n,[{address:u},o]=(0,g.Z)({address:""});return(0,n.jsxs)(l.Ak,{tit:"ClaimYields for Buy Low Pool",children:[(0,n.jsxs)("span",{children:["Yields: ",(0,P.d)(r)]}),(0,n.jsx)("input",{type:"text",placeholder:"recipient",value:u,onChange:e=>o({address:e.target.value}),className:(0,f.cn)(l.pk)}),(0,n.jsx)(s.v,{tx:"Write",disabled:!t.ptyPoolBelowAddress||r<=0n,config:{abi:i.aT,address:t.ptyPoolBelowAddress,functionName:"claimYields",args:[u]},className:"!mt-0  max-w-[100px] flex items-center justify-center gap-4"})]})}function SetTester(e){let{vc:t}=e,{data:a}=(0,p.D2)({abi:i.Og,address:t.assetTokenFeed,functionName:"getTestersCount"}),{data:r}=(0,p.D2)({abi:i.Og,address:t.assetTokenFeed,functionName:"owner"}),u=a||0n,{data:o}=(0,p.uX)({contracts:Array.from(Array(parseInt(u.toString()))).map((e,a)=>({abi:i.Og,address:t.assetTokenFeed,functionName:"getTester",args:[BigInt(a)]}))}),c=(null==o?void 0:o.map(e=>e.result))||[],[{address:d},m]=(0,g.Z)({address:""});return(0,n.jsxs)(l.Ak,{tit:"Set tester",children:[(0,n.jsxs)("div",{children:["Owner: ",r]}),(0,n.jsxs)("div",{children:["Tester Count: ",u.toString()]}),(0,n.jsx)("div",{children:"Testers"}),c.map(e=>(0,n.jsx)("div",{children:e},e)),(0,n.jsx)("input",{type:"text",placeholder:"recipient",value:d,onChange:e=>m({address:e.target.value}),className:(0,f.cn)(l.pk)}),(0,n.jsx)(s.v,{tx:"Write",disabled:!d,config:{abi:i.Og,address:t.assetTokenFeed,functionName:"setTester",args:[d,!0]},className:"!mt-0  max-w-[100px] flex items-center justify-center gap-4"})]})}function Erc20Approve(){let[e,t]=(0,g.Z)({token:"",spender:"",amount:0n});return(0,n.jsxs)(l.Ak,{tit:"Erc20Approve",children:[(0,n.jsx)("input",{type:"text",placeholder:"token",value:e.token,onChange:e=>t({token:e.target.value}),className:(0,f.cn)(l.pk)}),(0,n.jsx)("input",{type:"text",placeholder:"spender",value:e.spender,onChange:e=>t({spender:e.target.value}),className:(0,f.cn)(l.pk)}),(0,n.jsx)("input",{type:"text",placeholder:"amount",value:e.amount.toString(),onChange:e=>{try{t({amount:(0,f.su)(e.target.value,0)})}catch(e){}},className:(0,f.cn)(l.pk)}),(0,n.jsx)(s.v,{tx:"Write",disabled:!(0,y.U)(e.token)||!(0,y.U)(e.spender)||e.amount<=0n,config:{abi:T.Wo,address:e.token,functionName:"approve",args:[e.spender,e.amount]},className:"!mt-0 w-full flex items-center justify-center gap-4"})]})}let V=[{label:"赎回手续费",value:"C"}];function InitReinit(e){let{vault:t}=e,{data:a}=(0,p.uX)({contracts:[{abi:i.qU,address:t,functionName:"paramValue",args:[(0,A.$G)("D",{size:32})]},{abi:i.qU,address:t,functionName:"nftVtAmount"},{abi:i.qU,address:t,functionName:"nftVestingEndTime"},{abi:i.qU,address:t,functionName:"nftVestingDuration"},{abi:i.qU,address:t,functionName:"ytSwapPaymentToken"},{abi:i.qU,address:t,functionName:"ytSwapPrice"}]}),{data:s}=(0,p.D2)({abi:i.qU,address:t,functionName:"initialized"}),r=null==a?void 0:a.map(e=>{var t;return(null===(t=e.result)||void 0===t?void 0:t.toString())||""});return(0,n.jsx)(l.UT,{abi:i.qU,tit:"InitOrReinit",txProps:{disabled:"boolean"!=typeof s},functionName:s?"reInitialize":"initialize",address:t,argsDef:r},"lnt-vault-init")}function DeleteIpAssets(e){let{data:t}=(0,p.D2)({abi:i.j5,address:e.vault,functionName:"ipAssets"}),a={};return null==t||t.forEach(e=>{a[e]=o.LF[e]}),(0,n.jsx)(l.UT,{abi:i.j5,functionName:"removeIpAsset",address:e.vault,infos:JSON.stringify(a,void 0,2)},"b-vault-removeIpAsset")}function AdminPage(){let e=(0,c.p)(),{current:t,setState:a,options:s}=(0,d.G)(),{chain:o}=(0,B.m)();return(0,n.jsx)(r.E,{children:(0,n.jsx)("div",{className:"w-full flex",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-[840px] mx-auto px-5",children:[(0,n.jsx)(v.ZP,{classNames:l.At,defaultValue:s[0],options:s,onChange:e=>e&&a({current:e})}),(null==t?void 0:t.type)=="L-Vault"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:S,protocoSettingAddress:u.e_[e]}),(0,n.jsx)(UpdateVaultPrice,{vc:t.data}),["pauseMint","unpauseMint","pauseRedeem","unpauseRedeem","pauseUsbToMarginTokens","unpauseUsbToMarginTokens"].map(e=>(0,n.jsx)(l.UT,{functionName:e,abi:i.WW,address:t.data.vault},"l-vault-".concat(e))),(0,n.jsx)(l.UT,{abi:i.EF,functionName:"transferOwnership",address:u.Vq[e]}),(0,n.jsx)(ClaimYieldsForBuyPool,{vc:t.data}),(null==o?void 0:o.testnet)&&(0,n.jsx)(SetTester,{vc:t.data})]}),(null==t?void 0:t.type)=="P-Vault"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:V,protocoSettingAddress:u.e_[e]}),["configureBlastYieldsAndGas","configureBlastPoints"].map(e=>(0,n.jsx)(l.UT,{abi:i.a4,functionName:e,address:t.data.vault},"p-vault-".concat(e)))]}),(null==t?void 0:t.type)=="B-Vault"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:k,protocoSettingAddress:t.data.protocolSettingsAddress}),(0,n.jsx)(DeleteIpAssets,{vault:t.data.vault}),["addIpAsset","updateMaxIpAssets","updateC","close","pause","unpause","pauseRedeemPool","unpauseRedeemPool","addBribeToken","addBribes","setBriber"].map(e=>(0,n.jsx)(l.UT,{abi:i.j5,functionName:e,address:t.data.vault},"b-vault-".concat(e))),(0,n.jsx)(l.UT,{tit:"transferOwnership",abi:i.RR,functionName:"transferOwnership",address:t.data.protocolAddress}),(0,n.jsx)(l.UT,{tit:"upsertParamConfig",abi:i.$4,functionName:"upsertParamConfig",address:t.data.protocolSettingsAddress})]}),(null==t?void 0:t.type)=="Lnt-Vault"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:w,protocoSettingAddress:t.data.protocolSettingsAddress}),(0,n.jsx)(InitReinit,{vault:t.data.vault}),["startEpoch1","updateNftDepositClaimableTime","depositNftVestingToken","withdrawNftVestingToken","addYtRewards"].map(e=>(0,n.jsx)(l.UT,{abi:i.qU,functionName:e,address:t.data.vault},"lnt-vault-".concat(e))),(0,n.jsx)(l.UT,{tit:"transferOwnership",abi:i.RR,functionName:"transferOwnership",address:t.data.protocolAddress}),(0,n.jsx)(l.UT,{tit:"upsertParamConfig",abi:i.$4,functionName:"upsertParamConfig",address:t.data.protocolSettingsAddress}),(null==o?void 0:o.testnet)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.UT,{tit:"mintMockNFT",abi:i.Oq,functionName:"safeMint",address:t.data.asset}),(0,n.jsx)(l.UT,{tit:"mintMockERC20",abi:i.vJ,functionName:"mint",address:t.data.vestingToken})]})]}),(0,n.jsx)(Erc20Approve,{})]})})})}},10494:function(e,t,a){"use strict";a.d(t,{LF:function(){return g},Zi:function(){return useBVaultUnderlyingAPY},tY:function(){return useBvaultROI}});var n=a(79099),s=a(73216),l=a(22139),r=a(78403),i=a(18358),u=a(64370),o=a(83978),c=a.n(o),d=a(95891),p=a(35004),f=a(11292),m=a(67541);let v=(0,d.V)(["struct UserStakeAmountDetail { address stakeTokenAddress; uint256 amount; uint8 lockup; uint256 lastStakeTimestamp;}","function getUserStakeAmountForIP(address _ipAsset, address _user) external view returns (UserStakeAmountDetail[][] memory)","function getTotalStakeWeightedInIPForIP(address _ipAsset) external view returns (uint256)","function getTotalStakeAmountForIP(address _ipAsset, address[] calldata _stakeTokens) external view returns (uint256[] memory)","struct RewardPoolState {address rewardToken;uint8 rewardTokenType;uint8 distributionType;uint256 rewardsPerEpoch;uint256 rewardPerToken;uint256 totalRewards;uint256 totalDistributedRewards;uint256 lastEpochBlock;}","function getRewardPools(address _ipAsset) external view returns (RewardPoolState[][] memory)","function calculateIPWithdrawal(uint256 _vIPToBurn) external view returns (uint256)"]),g={"0xB1D831271A68Db5c18c8F0B69327446f7C8D0A42":"IPPY","0x0a0466c312687027E2BEa065d4Cca0DCEC19bb2C":"Globkins","0xCdF104e4F24d593E16B9F6c382cEB1FB5573EEDd":"Mimboku","0x8c40Ef7408D6036Dca0b69E67D960dd48014cB16":"Sofamon","0x00e23f81e489E43484B0B8Bc109faD6C1F4c28E7":"Benjamin","0x42A351E005De1330DeDe69Ca4Ae1B06715a2f4fA":"WTF"};function useBVaultUnderlyingAPY(e){let t=e.vault,{data:a}=(0,u.a)({initialData:[],queryKey:["bvualtipassets",t],enabled:!!t,queryFn:async()=>{let e=await (0,r.B)().readContract({abi:n.j5,address:t,functionName:"ipAssets"});return console.info("ipAssets:",e),e}});return(0,u.a)({initialData:{avrageApy:0n,items:[]},queryKey:["bvualtunderlyingapy",t,a],enabled:!!t&&a.length>0,gcTime:36e5,queryFn:async()=>{let n=(0,r.B)((0,s.BV)(),1),i=await n.readContract({abi:v,address:"0xf6701A6A20639f0E765bA7FF66FD4f49815F1a27",functionName:"calculateIPWithdrawal",args:[(0,p.f)("1")]}),u=(0,p.f)("2.367"),apyByIpAsset=async a=>{let[[s],r]=await Promise.all([n.readContract({abi:v,functionName:"getTotalStakeAmountForIP",address:e.ipAssetStaking,args:[a,[e.asset]]}),n.readContract({abi:v,functionName:"getTotalStakeWeightedInIPForIP",address:e.ipAssetStaking,args:[a]})]),o=(0,p.f)("0.00009"),c=r>0n?o*l.SH*l.Pq/u*l.Pq/r:0n;s>=(0,p.f)("100")&&i>0n&&r>0n&&(c+=(0,p.f)("7.5")*l.Pq/i*(s*l.Pq/r)/l.Pq/100n);let d=4n*c;return console.info("underlyingApy:",t,a,(0,f.d)(d)),d},o=await Promise.all(a.map(apyByIpAsset)),c=await Promise.all(a.map(a=>n.readContract({abi:v,functionName:"getUserStakeAmountForIP",address:e.ipAssetStaking,args:[a,t]}))),d=c.map(e=>{var t;return null===(t=e.find(e=>e.length))||void 0===t?void 0:t.find(e=>!!e)}),m=d.reduce((e,t)=>e+((null==t?void 0:t.amount)||0n),0n),b=m>0n?o.map((e,t)=>{var a;return e*((null==d?void 0:null===(a=d[t])||void 0===a?void 0:a.amount)||0n)}).reduce((e,t)=>e+t,0n)/m:0n,A=o.map((e,t)=>{var n;return{apy:e,staked:(null==d?void 0:null===(n=d[t])||void 0===n?void 0:n.amount)||0n,ipID:a[t],tit:g[a[t]]}}).sort((e,t)=>{let a=t.apy-e.apy;return a>0n?1:a<0n?-1:0});return console.info("staked:",t,d,b),{avrageApy:b,items:A}}})}function calcRestakingApy(e,t,a,n,s){let r=t*e*a/l.Pq/l.SH,i=n>0n?r*l.Pq/n:0n,u=s>0n?i*l.Pq/s:0n;return u}function calcAdditionalApy(e,t,a,n){let s=e+t*a,r=0n*l.Pq,i=s>0n?r*l.Pq/s:0n,u=l.Pq*a,o=i*u/l.Pq,c=n>0n?o*l.Pq/n:0n;return c}function calcAdditionalApy2(e,t,a){let n=0n*l.Pq,s=e>0n?n*l.Pq/e:0n,r=l.Pq*t,i=s*r/l.Pq,u=a>0n?i*l.Pq/a:0n;return u}function useBvaultROI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0n,s=e.vault,o=(0,i.nr)(s),{data:{avrageApy:d}}=useBVaultUnderlyingAPY(e),p=o.current.yTokenAmountForSwapYT,f=o.current.vaultYTokenBalance,v=o.current.duration+o.current.startTime-BigInt(c().round(c().now()/1e3)),g=o.pTokenTotal,b=f>0n?o.Y*l.Pq/f:0n,A=calcRestakingApy(d,g,v,p,b),x=t>0n?calcRestakingApy(d,g,v,p+t,a):0n,{data:h}=function(e){let t=(0,i.nr)(e);return(0,u.a)({initialData:0n,gcTime:36e5,queryKey:["ytPoints",e,t.current.adhocBribesPool],enabled:!!e&&!!t.current.adhocBribesPool,queryFn:async()=>{let e=(0,r.B)();return t.current.adhocBribesPool===m.DR?0n:e.readContract({abi:n.q3,address:t.current.adhocBribesPool,functionName:"totalSupply"})}})}(s),P=e.pTokenV2?calcAdditionalApy2(o.ytPointsMaxTotalSupply,v,b):calcAdditionalApy(h,p,v,b),y=t>0n?e.pTokenV2?calcAdditionalApy2(o.ytPointsMaxTotalSupply+t*v,v,a):calcAdditionalApy(h,p+t,v,a):0n;return{roi:A>0n?A+P-l.Pq:0n,roiChange:x>0n?x+y-l.Pq:0n,restakingIncomesApy:A,additionalRoi:P}}},18358:function(e,t,a){"use strict";a.d(t,{R3:function(){return useUpBVaultForUserAction},Vw:function(){return useEpochesData},Zd:function(){return useBVaultEpoches},d6:function(){return useResetBVaultsData},gz:function(){return useCalcClaimable},lL:function(){return calcBVaultPTApy},nr:function(){return useBVault},oU:function(){return useBVaultApy},v7:function(){return useBVaultBoost}});var n=a(22139),s=a(59175),l=a(63126),r=a(84944),i=a(83978),u=a.n(i),o=a(64103),c=a(96670),d=a(8298);function useResetBVaultsData(){let e=(0,s.p)(),{address:t}=(0,c.m)();(0,o.useEffect)(()=>{},[e]),(0,o.useEffect)(()=>{d.w.getState().sliceUserBVaults.reset()},[t])}function useBVault(e){return(0,d.o)(t=>t.sliceBVaultsStore.bvaults[e]||(0,l.Yb)({current:(0,l.Yb)({},0n)},0n),["sliceBVaultsStore.bvaults.".concat(e)])}function useBVaultEpoches(e){return(0,d.o)(t=>{let a=t.sliceBVaultsStore.bvaults[e];if(!a||a.epochCount<=0n)return[];let n=u().range(1,parseInt((a.epochCount+1n).toString())).reverse(),s=t.sliceBVaultsStore.epoches;return n.map(t=>s["".concat(e,"_").concat(t)]).filter(e=>null!=e)},["sliceBVaultsStore.bvaults.".concat(e),"sliceBVaultsStore.epoches"])}function useEpochesData(e){let t=useBVaultEpoches(e),a=(0,d.o)(t=>t.sliceUserBVaults.epoches[e]||[],["sliceUserBVaults.epoches.".concat(e)]);return(0,o.useMemo)(()=>{let e=a.reduce((e,t)=>({...e,[t.epochId.toString()]:t}),{});return t.map(t=>(0,l.Yb)({...t,...e[t.epochId.toString()]||{bribes:[],sBribes:[],aBribes:[]}},0n))},[t,a])}function useCalcClaimable(e){let t=useEpochesData(e);return(0,o.useMemo)(()=>{let e=t.filter(e=>e.claimableAssetBalance&&e.settled);return{ids:e.map(e=>e.epochId),claimable:e.reduce((e,t)=>e+t.claimableAssetBalance,0n)}},[t])}function useBVaultBoost(e){let t=(0,d.o)(()=>(function(e){let t=d.w.getState(),a=t.sliceBVaultsStore.bvaults[e],s=(null==a?void 0:a.current.vaultYTokenBalance)||0n,l=(null==a?void 0:a.Y)||0n,i=l>0n?s*n.Pq/l:0n,u=(null==a?void 0:a.current.yTokenAmountForSwapYT)||0n,o=(null==a?void 0:a.lockedAssetTotal)||0n,c=u>0n?o*n.Pq/u:0n;return console.info("calcBootst:",(0,r.d)(i),(0,r.d)(c)),n.Pq,i})(e),["sliceBVaultsStore.bvaults.".concat(e)]);return[(0,r.d)(t,0),t]}function calcBVaultPTApy(e){let t=d.w.getState(),a=t.sliceBVaultsStore.bvaults[e.vault],s=(0,l.ok)(t.sliceBVaultsStore.yTokenSythetic,[e.vault]),r=0n;return r=e.pTokenV2?a&&a.ptRebaseRate&&a.pTokenTotal?a.ptRebaseRate/n.Pq*n.SH*BigInt(1e10)/a.pTokenTotal/n.Pq:0n:a&&a.current.assetTotalSwapAmount&&s?a.current.assetTotalSwapAmount*n.SH*BigInt(1e10)/s:0n,console.info("apy:",e.vault,r,e.pTokenV2,null==a?void 0:a.ptRebaseRate,null==a?void 0:a.pTokenTotal),r}function useBVaultApy(e){let t=(0,d.o)(()=>calcBVaultPTApy(e),["sliceBVaultsStore.bvaults.".concat(e.vault),"sliceBVaultsStore.yTokenSythetic.".concat(e.vault)]);return[(0,l.Jh)(t,10),t]}function useUpBVaultForUserAction(e,t){let{address:a}=(0,c.m)();return()=>{(0,l.XD)(async()=>{if(null==t||t(),!a)return;await Promise.all([d.w.getState().sliceTokenStore.updateTokensBalance([e.asset,e.pToken],a),d.w.getState().sliceTokenStore.updateTokenTotalSupply([e.asset,e.pToken]),d.w.getState().sliceBVaultsStore.updateBvaults([e]),d.w.getState().sliceBVaultsStore.updateYTokenSythetic([e])]);let n=d.w.getState().sliceBVaultsStore.bvaults[e.vault];await d.w.getState().sliceBVaultsStore.updateEpoches(e,n.epochCount>1n?[n.epochCount,n.epochCount-1n]:[n.epochCount]);let s=[];for(let t=parseInt(n.epochCount.toString());t>0;t--){let a=d.w.getState().sliceBVaultsStore.epoches["".concat(e.vault,"_").concat(t)];s.push(a)}console.info("onUserAction:epoches",s),await d.w.getState().sliceUserBVaults.updateEpoches(e,a,s)},3,1e3)}}},85665:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var n=a(64103),s=a(17695),l=s.jU?n.useLayoutEffect:n.useEffect,r={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0},i=s.jU&&void 0!==window.ResizeObserver?function(){var e=(0,n.useState)(null),t=e[0],a=e[1],s=(0,n.useState)(r),i=s[0],u=s[1],o=(0,n.useMemo)(function(){return new window.ResizeObserver(function(e){if(e[0]){var t=e[0].contentRect;u({x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,left:t.left,bottom:t.bottom,right:t.right})}})},[]);return l(function(){if(t)return o.observe(t),function(){o.disconnect()}},[t]),[a,i]}:function(){return[s.ZT,r]}}},function(e){e.O(0,[4881,5294,7495,7622,2882,4300,9637,3960,6525,1749,8298,4289,7093,604,1744],function(){return e(e.s=42706)}),_N_E=e.O()}]);